{"version":3,"file":"js/2409.78ffdbeb.js","mappings":"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","sources":["webpack://vue3_test/./src/views/search/index.vue","webpack://vue3_test/src/views/search/index.vue","webpack://vue3_test/./src/views/search/index.vue?e0e8","webpack://vue3_test/./src/views/search/index.vue?7f48"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"coagency search_box\"},[_c('div',{staticClass:\"coagency-content\"},[_c('div',{staticClass:\"srarch_t\"},[_c('div',{staticClass:\"serch_l\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"书城\",\"name\":\"书城\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(_vm._s(_vm.activeName==='书城'?`书城 ( ${_vm.total.tstotal} )`:`书城`))])]),_c('el-tab-pane',{attrs:{\"label\":\"专题\",\"name\":\"专题\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(_vm._s(_vm.activeName==='专题'?`专题 ( ${_vm.total.zttotal} )`:`专题`))])]),_c('el-tab-pane',{attrs:{\"label\":\"作者\",\"name\":\"作者\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(_vm._s(_vm.activeName==='作者'?`作者 ( ${_vm.total.zztotal} )`:`作者`))])]),_c('el-tab-pane',{attrs:{\"label\":\"机构\",\"name\":\"机构\"}},[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(_vm._s(_vm.activeName==='机构'?`机构 ( ${_vm.total.jgtotal} )`:`机构`))])])],1)],1),_c('div',{staticClass:\"custom-search\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.searchName),expression:\"searchName\",modifiers:{\"trim\":true}}],staticClass:\"custom-input\",attrs:{\"type\":\"text\",\"placeholder\":\"请输入\"},domProps:{\"value\":(_vm.searchName)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.handleQuery.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.searchName=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('el-button',{staticClass:\"custom-button\",attrs:{\"round\":\"\",\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.handleQuery}},[_vm._v(\"搜索 \")])],1)]),_c('div',{staticClass:\"search_show\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === '书城'),expression:\"activeName === '书城'\"}],staticClass:\"search_li\"},[_c('book',{ref:\"book\",attrs:{\"search-name\":_vm.searchName,\"eachColor\":_vm.eachColor},on:{\"settotal\":_vm.settotal}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === '专题'),expression:\"activeName === '专题'\"}],staticClass:\"search_li\"},[_c('special',{ref:\"special\",attrs:{\"search-name\":_vm.searchName,\"eachColor\":_vm.eachColor},on:{\"settotal\":_vm.settotal}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === '作者'),expression:\"activeName === '作者'\"}],staticClass:\"search_li\"},[_c('authorLibrary',{ref:\"authorLibrary\",attrs:{\"search-name\":_vm.searchName,\"eachColor\":_vm.eachColor},on:{\"settotal\":_vm.settotal}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName === '机构'),expression:\"activeName === '机构'\"}],staticClass:\"search_li\"},[_c('coagency',{ref:\"coagency\",attrs:{\"search-name\":_vm.searchName,\"eachColor\":_vm.eachColor},on:{\"settotal\":_vm.settotal}})],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"coagency search_box\">\r\n    <div class=\"coagency-content\">\r\n      <div class=\"srarch_t\">\r\n        <div class=\"serch_l\">\r\n          <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n            <el-tab-pane label=\"书城\" name=\"书城\">\r\n              <span slot=\"label\">{{activeName==='书城'?`书城 ( ${total.tstotal} )`:`书城`}}</span>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"专题\" name=\"专题\">\r\n              <span slot=\"label\">{{activeName==='专题'?`专题 ( ${total.zttotal} )`:`专题`}}</span>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"作者\" name=\"作者\">\r\n              <span slot=\"label\">{{activeName==='作者'?`作者 ( ${total.zztotal} )`:`作者`}}</span>\r\n            </el-tab-pane>\r\n            <el-tab-pane label=\"机构\" name=\"机构\">\r\n              <span slot=\"label\">{{activeName==='机构'?`机构 ( ${total.jgtotal} )`:`机构`}}</span>\r\n            </el-tab-pane>\r\n          </el-tabs>\r\n        </div>\r\n        <div class=\"custom-search\">\r\n          <input type=\"text\" v-model.trim=\"searchName\" @keyup.enter=\"handleQuery\" class=\"custom-input\"\r\n            placeholder=\"请输入\" />\r\n          <el-button class=\"custom-button\" @click=\"handleQuery\" round type=\"primary\" icon=\"el-icon-search\">搜索\r\n          </el-button>\r\n        </div>\r\n      </div>\r\n      <div class=\"search_show\">\r\n        <div class=\"search_li\" v-show=\"activeName === '书城'\">\r\n          <book ref=\"book\" :search-name=\"searchName\" :eachColor=\"eachColor\" @settotal=\"settotal\"></book>\r\n        </div>\r\n        <div class=\"search_li\" v-show=\"activeName === '专题'\">\r\n          <special ref=\"special\" :search-name=\"searchName\" :eachColor=\"eachColor\" @settotal=\"settotal\"></special>\r\n        </div>\r\n        <div class=\"search_li\" v-show=\"activeName === '作者'\">\r\n          <authorLibrary ref=\"authorLibrary\" :search-name=\"searchName\" :eachColor=\"eachColor\" @settotal=\"settotal\">\r\n          </authorLibrary>\r\n        </div>\r\n        <div class=\"search_li\" v-show=\"activeName === '机构'\">\r\n          <coagency ref=\"coagency\" :search-name=\"searchName\" :eachColor=\"eachColor\" @settotal=\"settotal\"></coagency>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import { mapGetters } from \"vuex\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        activeName: \"书城\",\r\n        searchName: \"\",\r\n        total: {\r\n          tstotal: 0,\r\n          zttotal: 0,\r\n          zztotal: 0,\r\n          jgtotal: 0,\r\n        },\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapGetters([\"searchText\"]),\r\n    },\r\n    watch:{\r\n      searchText() {\r\n        if(this.$route.path==='/search/index'){\r\n          this.handleQuery()\r\n        }\r\n      },\r\n    },\r\n    mounted() {\r\n      const loading = this.$loading({\r\n        lock: true,\r\n        text: \"Loading\",\r\n      });\r\n      // this.searchName = this.$route.query.searchtext;\r\n      setTimeout(() => {\r\n        this.handleQuery()\r\n        loading.close();\r\n      }, 200);\r\n    },\r\n    components: {\r\n      book: () => import(\"./components/book.vue\"),\r\n      special: () => import(\"./components/special.vue\"),\r\n      authorLibrary: () => import(\"./components/authorLibrary.vue\"),\r\n      coagency: () => import(\"./components/coagency.vue\"),\r\n    },\r\n    methods: {\r\n      handleClick(name) {},\r\n      //搜索结果关键字改变颜色\r\n      eachColor(content, searchVal,searchVal2) {\r\n        if (content) {\r\n          if(searchVal){\r\n            let nt = '<span style=\"color:#FF5353;\">' + searchVal + \"</span>\";\r\n            content=content.replace(searchVal, nt); \r\n          }\r\n          if(searchVal2){\r\n            let nt2 = '<span style=\"color:#FF5353;\">' + searchVal2 + \"</span>\";\r\n            content=content.replace(searchVal2, nt2);\r\n          }\r\n        }\r\n        return content\r\n      },\r\n      handleQuery() {\r\n        this.$store.state.read.searchText=this.$parent.$children[0].searchText\r\n        this.$refs.book.getList(this.searchName);\r\n        this.$refs.special.getList(this.searchName);\r\n        this.$refs.authorLibrary.getList(this.searchName);\r\n        this.$refs.coagency.getList(this.searchName);\r\n      },\r\n      settotal(type, total) {\r\n        this.total[type] = total;\r\n      },\r\n    },\r\n  };\r\n</script>\r\n<style scoped lang='scss'>\r\n  .coagency {\r\n    height: auto;\r\n    padding-bottom: 40px;\r\n  \r\n  // background: #FBFBFB;\r\n    .coagency-content {\r\n      width: 1400px;\r\n      overflow: hidden;\r\n      margin: 0 auto;\r\n      background: #fffefd;\r\n      box-sizing: border-box;\r\n      padding: 16px 28px 40px 24px;\r\n\r\n      .coagency-list {\r\n        box-sizing: border-box;\r\n        margin: 28px 0 40px 12px;\r\n        display: grid;\r\n        grid-row-gap: 30px;\r\n        column-gap: 40px;\r\n        grid-template-columns: repeat(auto-fit, 302px);\r\n\r\n        .demo-box {\r\n          width: 302px;\r\n          height: 222px;\r\n          background: #ffffff;\r\n          box-shadow: 0px 2px 5px 0px rgba(0, 0, 0, 0.1);\r\n          box-sizing: border-box;\r\n\r\n          .demo-img-box {\r\n            width: 300px;\r\n            height: 130px;\r\n            background: #ffffff;\r\n            cursor: pointer;\r\n\r\n            img {\r\n              box-sizing: border-box;\r\n              padding: 8px 5px;\r\n              max-width: 300px;\r\n              max-height: 130px;\r\n            }\r\n          }\r\n\r\n          .demo-body-box {\r\n            box-sizing: border-box;\r\n            padding: 18px 16px 20px;\r\n\r\n            .coagency-title {\r\n              cursor: pointer;\r\n              width: 260px;\r\n              font-size: 16px;\r\n              font-family: PingFang SC;\r\n              font-weight: 400;\r\n              color: #333333;\r\n              margin-bottom: 20px;\r\n            }\r\n\r\n            .coagency-title:hover {\r\n              color: #1690ff;\r\n              text-decoration: underline;\r\n            }\r\n\r\n            .demo-resource-box {\r\n              display: flex;\r\n              align-items: center;\r\n              justify-content: space-between;\r\n              height: 14px;\r\n\r\n              .coagency-info {\r\n                font-size: 14px;\r\n                font-family: PingFang SC;\r\n                font-weight: 400;\r\n                color: #666666;\r\n\r\n                span {\r\n                  color: #0081ce;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      .el-pagination {\r\n        text-align: right;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-tabs {\r\n    >>>.el-tabs__nav-wrap {\r\n      .el-tabs__item {\r\n        span {\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .serch_l {\r\n    height: 63px;\r\n    margin-top: -16px;\r\n  }\r\n\r\n  .serch_l>>>.el-tabs__nav-scroll {\r\n    height: 63px;\r\n  }\r\n\r\n  .serch_l>>>.el-tabs__item {\r\n    line-height: 63px;\r\n    height: 63px;\r\n  }\r\n\r\n  .serch_l>>>.el-tabs__item span {\r\n    padding: 0 10px;\r\n  }\r\n\r\n  .search_show {\r\n    width: 100%;\r\n    float: left;\r\n  }\r\n\r\n  .srarch_t {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-content: center;\r\n    justify-content: space-between;\r\n    width: 100%;\r\n    margin-bottom: 30px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0716b93e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0716b93e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0716b93e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","on","handleClick","model","value","activeName","callback","$$v","expression","attrs","slot","_v","_s","total","tstotal","zttotal","zztotal","jgtotal","directives","name","rawName","searchName","modifiers","domProps","$event","type","indexOf","_k","keyCode","key","handleQuery","apply","arguments","target","composing","trim","$forceUpdate","ref","eachColor","settotal","staticRenderFns","data","computed","mapGetters","watch","searchText","$route","path","mounted","loading","$loading","lock","text","setTimeout","close","components","book","special","authorLibrary","coagency","methods","content","searchVal","searchVal2","nt","replace","nt2","$store","state","read","$parent","$children","$refs","getList","component"],"sourceRoot":""}