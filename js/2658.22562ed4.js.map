{"version":3,"file":"js/2658.22562ed4.js","mappings":"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","sources":["webpack://vue3_test/./src/views/onlineReading/components/imgread.vue","webpack://vue3_test/src/views/onlineReading/components/imgread.vue","webpack://vue3_test/./src/views/onlineReading/components/imgread.vue?341f","webpack://vue3_test/./src/views/onlineReading/components/imgread.vue?0243","webpack://vue3_test/./src/api/bookstore/bookstore.js","webpack://vue3_test/./src/api/special/special.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"video_box_s\"},[_c('div',{staticClass:\"video_box\"},[_c('div',{staticClass:\"audiotitlex\"},[_vm._m(0),_c('div',{staticClass:\"fileName_box\"},[_vm._v(\" \"+_vm._s(_vm.fileName)+\" \")])]),_c('div',{staticClass:\"video_con\"},[(_vm.goodsFilePath)?_c('el-image',{attrs:{\"src\":_vm.goodsFilePath,\"preview-src-list\":_vm.srcList}}):_vm._e()],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img_box\",attrs:{\"src\":require(\"@/assets/icon/tupi.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"video_box_s\">\r\n    <div class=\"video_box\">\r\n      <div class=\"audiotitlex\">\r\n        <div class=\"img_box\">\r\n          <img class=\"img_box\" src=\"@/assets/icon/tupi.png\" />\r\n        </div>\r\n        <div class=\"fileName_box\">\r\n          {{ fileName }}\r\n        </div>\r\n      </div>\r\n      <div class=\"video_con\">\r\n        <el-image\r\n          v-if=\"goodsFilePath\"\r\n          :src=\"goodsFilePath\"\r\n          :preview-src-list=\"srcList\"\r\n        ></el-image>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  selectTimeParameter, //获取调用阅读时长接口频率\r\n  updateOcDownloadReading, //更新用户阅读时长\r\n  selectFileLinkAndReadingLocation, //查看阅读文件地址和文件进度\r\n} from \"@/api/special/special\";\r\nimport { checkIsBuy } from \"@/api/bookstore/bookstore\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      fileName: \"\",\r\n      goodsId: this.$route.query.goodsId, //需要传递的参数\r\n      filesId: \"\", //需要传递的参数(资源文件id)\r\n      goodsFilePath: \"\", //需要传递的参数(资源文件路径)\r\n      bookdetail: {}, //基本信息\r\n      sourceList: [], //文件信息\r\n      readdefault: 0, //默认阅读第一个\r\n      item: undefined,\r\n      index: undefined,\r\n      srcList: [],\r\n      loading: false,\r\n      setInterval2: undefined,\r\n      TimeParameter: 10, //更新频次-单位分钟\r\n    };\r\n  },\r\n  created() {\r\n    this.stopEvent();\r\n    // this.tabbook();\r\n  },\r\n  destroyed() {\r\n    this.closeTime();\r\n  },\r\n  methods: {\r\n    //禁用右键\r\n    stopEvent() {\r\n      document.oncontextmenu = function (e) {\r\n        return false;\r\n      };\r\n    },\r\n    selectTimeParameter() {\r\n      //获取更新 时长和进度 的频次\r\n      selectTimeParameter().then((res) => {\r\n        this.TimeParameter = res.data;\r\n        this.setInterval2 = setInterval(() => {\r\n          this.updateOcDownloadReading(); //更新阅读时长\r\n        }, this.TimeParameter * 60000);\r\n      });\r\n    },\r\n    closeTime() {\r\n      clearInterval(this.setInterval2);\r\n      this.setInterval2 = null;\r\n    },\r\n    updateOcDownloadReading() {\r\n      //更新用户阅读时长接口\r\n      updateOcDownloadReading({\r\n        goodsFileId: this.filesId,\r\n        goodsId: this.$route.query.goodsId,\r\n        relevanceId: this.$route.query.relevanceId,\r\n        resource: this.$route.query.resource,\r\n        resourceType: this.$route.query.resourceType,\r\n        teachInstId: this.$route.query.teachInstId,\r\n      }).then((res) => {});\r\n    },\r\n    tabbook(item) {\r\n      this.fileName = item.sourceName;\r\n      this.filesId = item.filesId;\r\n      this.loading = this.$loading({\r\n        lock: true,\r\n      });\r\n      selectFileLinkAndReadingLocation({\r\n        goodsFileId: item.filesId, //goodsFileId没有，谢萌说可用filesId\r\n        fileType: item.fileType,\r\n        goodsId: this.$route.query.goodsId,\r\n        relevanceId: this.$route.query.relevanceId,\r\n        resource: this.$route.query.resource,\r\n        resourceType: this.$route.query.resourceType,\r\n        teachInstId: this.$route.query.teachInstId,\r\n      }).then((res) => {\r\n        this.loading.close();\r\n        let data = res.data;\r\n        if (data) {\r\n          this.buys(item, data);\r\n        }\r\n      });\r\n    },\r\n    buys(item, data) {\r\n      //判断是否购买该商品\r\n      this.payType = this.$route.query.payType\r\n        ? this.$route.query.payType\r\n        : \"goods\";\r\n      checkIsBuy({\r\n        relevanceId: this.goodsId,\r\n        type: this.payType,\r\n      }).then((res) => {\r\n        if (data.hasPermission) {\r\n          //有权限\r\n          this.goodsFilePath = data.filePath;\r\n          this.srcList.push(this.goodsFilePath);\r\n          this.selectTimeParameter(); //获取更新进度和时长的频次   循环调用更新时长和更新进度方法\r\n        } else if (res.data == \"1\" && item.sourceStatus == \"2\") {\r\n          this.Trial = true; //试读\r\n          this.goodsFilePath = data.filePath;\r\n          this.srcList.push(this.goodsFilePath);\r\n        } else {\r\n          //无权限\r\n          this.goodsFilePath = \"\";\r\n          this.checkIsBuys();\r\n        }\r\n      });\r\n    },\r\n\r\n    checkIsBuys() {\r\n      //无权限走购买流程\r\n      this.$alert(\"该文件需要购买后才能阅读，是否确认购买\", \"购买\", {\r\n        confirmButtonText: \"立即购买\",\r\n        callback: (action) => {\r\n          if (action === \"cancel\") {\r\n            return;\r\n          }\r\n          let userId = this.$store.getters.userId;\r\n          if (!userId) {\r\n            this.$store.commit(\"SET_REDIRECTPARAMS\", {\r\n              goodsId: this.$route.query.goodsId,\r\n              relevanceId: this.$route.query.relevanceId,\r\n              resource: this.$route.query.resource,\r\n              resourceType: this.$route.query.resourceType,\r\n            });\r\n            this.$router.push({\r\n              path: \"/login\",\r\n              query: {\r\n                redirectPath: \"/onlineReading\",\r\n              },\r\n            });\r\n          } else {\r\n            //判断是否购买该商品\r\n            this.payType = this.$route.query.payType\r\n              ? this.$route.query.payType\r\n              : \"goods\";\r\n            checkIsBuy({\r\n              relevanceId: this.goodsId,\r\n              type: this.payType,\r\n            }).then((res) => {\r\n              console.log(\"是否已购买响应\", res);\r\n              if (res.data === \"2\") {\r\n                this.$message.error(\"数据异常\");\r\n                return;\r\n              }\r\n              if (res.data === \"1\") {\r\n                this.$router.push({\r\n                  path: \"/submitOrder/index\",\r\n                  query: {\r\n                    id: this.$route.query.goodsId,\r\n                    from: \"bookstore\",\r\n                  },\r\n                });\r\n              } else {\r\n                this.$message(\"该商品已购买无需重复购买\");\r\n              }\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n.video_box_s {\r\n  overflow: hidden;\r\n}\r\n.video_box {\r\n  width: 100%;\r\n  min-height: 95vh;\r\n  margin: 0 auto;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  background: #fffefd;\r\n}\r\n\r\n.video_boxt {\r\n  width: 100%;\r\n  float: left;\r\n  font-size: 14px;\r\n  padding: 0 20px;\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  line-height: 41px;\r\n  margin-bottom: 30px;\r\n  height: 41px;\r\n  border-bottom: 1px solid #f2f2f2;\r\n}\r\n\r\n.video_con {\r\n  width: 500px;\r\n  margin: 0 auto;\r\n  margin-bottom: 30px;\r\n  overflow: hidden;\r\n  min-height: 430px;\r\n  position: relative;\r\n}\r\n.img_box {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #666666;\r\n}\r\n.audiotitlex {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 5px 15px;\r\n  border-bottom: 1px solid #f2f2f2;\r\n  padding: 5px;\r\n}\r\n.fileName_box {\r\n  margin-left: 10px;\r\n  font-size: 14px;\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  line-height: 26px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./imgread.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./imgread.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./imgread.vue?vue&type=template&id=3eca57f4&scoped=true&\"\nimport script from \"./imgread.vue?vue&type=script&lang=js&\"\nexport * from \"./imgread.vue?vue&type=script&lang=js&\"\nimport style0 from \"./imgread.vue?vue&type=style&index=0&id=3eca57f4&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3eca57f4\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\r\nimport { ouchnCustom } from \"@/service\";\r\n\r\n//根据字典查询字典信息——教学类、教辅类、学术类、试卷类、其他类、\r\nexport function teachingAttrList(dictType) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getDictListByDictType?dictType=\" + dictType,\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\n//查询某一项教学属性下的分类\r\nexport function TeachingClassList(catalogType) {\r\n  return request({\r\n    url:\r\n      ouchnCustom + \"/web/goods/getTreeSelectByType?catalogType=\" + catalogType,\r\n    method: \"get\"\r\n  });\r\n}\r\n//查询书城商品列表\r\nexport function goodsList(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/selGoodsList\",\r\n    method: \"post\",\r\n    data: data\r\n  });\r\n}\r\n//查询书城详情商品详情信息\r\nexport function goodsInfoDetail(goodsId) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/selGoodsById?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n// 查询书城详情——推荐商品\r\nexport function recommendGoods(goodsId) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getRecomGoodsList?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n// 查询书城详情——推荐专题\r\nexport function recommendSubject(goodsId) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getRecomSubjectList?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n// 查询书城详情——商品评价\r\nexport function Listevaluate(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getEvaluateListByGoodsId\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n// 加入购物车\r\nexport function CartAdd(goodsId, userId) {\r\n  return request({\r\n    url:\r\n      ouchnCustom +\r\n      \"/web/api/ocShoppingCart/addShoppingCart?goodsId=\" +\r\n      goodsId +\r\n      \"&userId=\" +\r\n      userId,\r\n    method: \"get\"\r\n  });\r\n}\r\n//判断是否加入购物车\r\nexport function IsCartAdd(goodsId) {\r\n  return request({\r\n    url:\r\n      ouchnCustom +\r\n      \"/web/api/ocShoppingCart/isAddShoppingCart?goodsId=\" +\r\n      goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n//加入书架\r\nexport function BookshelfAdd(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/addBookshelf\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n//判断是否加入书架\r\nexport function IsBookshelfAdd(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/isAddBookshelf\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n//取消加入书架\r\nexport function delBookshelf(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/delBookshelf\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n//举报评论\r\nexport function reportComment(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/api/ocEvaluate/addReport\",\r\n    method: \"post\",\r\n    data: data\r\n  });\r\n}\r\n\r\n//判断是否\r\nexport function checkIsBuy(params) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/read/selectIsBuy\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n//判断商品状态\r\nexport function SelGoodsStatus(goodsId) {\r\n  return request({\r\n    url:\r\n      ouchnCustom + \"/web/api/ocShoppingCart/selGoodsStatus?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n//判断专题状态\r\nexport function SelSubjectStatus(id) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/api/ocShoppingCart/selSubjectStatus?id=\" + id,\r\n    method: \"get\"\r\n  });\r\n}\r\n//查看文件是否有阅读权限\r\nexport function isHavingPermissions(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/read/isHavingPermissions\",\r\n    method: \"POST\",\r\n    data: data\r\n  });\r\n}\r\n\r\n//第三方阅读更新阅读记录和阅读进度\r\nexport function updateRecordAndSchedule(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/otherRead/updateRecordAndSchedule\",\r\n    method: \"POST\",\r\n    data: data\r\n  });\r\n}\r\n\r\n//查询第三方阅读进度\r\nexport function selectReadSchedule(data) {\r\n  return request({\r\n    url:\r\n      ouchnCustom +\r\n      \"/web/otherRead/selectReadSchedule?goodsFileId=\" +\r\n      data.goodsFileId +\r\n      \"&platformCode=\" +\r\n      data.platformCode +\r\n      \"&stuNum=\" +\r\n      data.stuNum,\r\n    method: \"GET\"\r\n    // data: data\r\n  });\r\n}\r\n","import request from '@/utils/request'\r\nimport { ouchnCustom } from \"@/service\"\r\n\r\n// 查询最新、热门、销量专题列表\r\nexport function ListSpecial(query) {\r\n  return request({\r\n    url: ouchnCustom + '/web/subject/querySubjectList',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n// 查询专题详情——详细信息\r\nexport function specialDetailInfo(subjectId) {\r\n  return request({\r\n    url: ouchnCustom + '/web/subject/getSubjectDetails?subjectId=' + subjectId,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 查询专题详情——商品列表\r\nexport function listResource(query) {\r\n  return request({\r\n    url: ouchnCustom + '/web/subject/getGoodsBySubjectId',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n\r\n// 查询专题详情——评价列表\r\nexport function listEvaluate(query) {\r\n  return request({\r\n    url: ouchnCustom + '/web/subject/listEvaluate',\r\n    method: 'get',\r\n    params: query\r\n  })\r\n}\r\n// 查询专题详情——推荐专题\r\nexport function recommendSubject(subjectId) {\r\n  return request({\r\n    url: ouchnCustom + '/web/subject/getRecomSubjectList?subjectId=' + subjectId,\r\n    method: 'get',\r\n  })\r\n}\r\n// 查询专题详情——推荐商品\r\nexport function recommendGoods(subjectId) {\r\n  return request({\r\n    url: ouchnCustom + '/web/subject/getRecomGoodsList?subjectId=' + subjectId,\r\n    method: 'get',\r\n  })\r\n}\r\n\r\n// 在线阅读epub——添加笔记\r\nexport function insertNote(data) {\r\n  return request({\r\n    url: ouchnCustom + '/web/api/note/addNote',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n// 在线阅读epub——修改笔记\r\nexport function update(data) {\r\n  return request({\r\n    url: ouchnCustom + '/web/api/note/updateNote',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\n\r\n// 在线阅读epub——删除笔记\r\nexport function removeNoteById(noteId) {\r\n  return request({\r\n    url: ouchnCustom + '/web/api/note/deleteNote',\r\n    method: 'post',\r\n    params: { noteId }\r\n  })\r\n}\r\n\r\n// 根据资源文件id查询所有笔记\r\nexport function selectNoteListByFileId(filesId,type) {\r\n  return request({\r\n    url: ouchnCustom + '/web/api/note/getNoteInfo',\r\n    method: 'get',\r\n    params: { filesId,type }\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n// 我的书架跳转专题详情时查询专题的基本信息\r\nexport function selectSubjectBase(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/myResource/selectSubjectBase',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 我的书架跳转专题详情时查询专题的商品列表\r\nexport function selectSubjectGoodsList(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/myResource/selectSubjectGoodsList',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 我的书架跳转资源包详情时查询资源包的基本信息\r\nexport function selectBundleBase(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/myResource/selectBundleBase',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 我的订单详情跳转资源包详情时查询资源包的基本信息\r\nexport function selectResourceBundleDetail(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/api/ocOrder/selectResourceBundleDetail',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 我的书架跳转资源包详情时查询资源包的商品列表\r\nexport function selectBundleGoodsList(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/myResource/selectBundleGoodsList',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 查看阅读文件地址和文件进度\r\nexport function selectFileLinkAndReadingLocation(data) {\r\n  return request({\r\n    url: ouchnCustom + '/web/read/selectFileLinkAndReadingLocationV2',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 获取阅读时长\r\nexport function selectReadInfo(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/read/selectReadInfo',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 获取调用阅读时长接口频率\r\nexport function selectTimeParameter(params) {\r\n  return request({\r\n    url: ouchnCustom + '/web/read/selectTimeParameter',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n// 更新用户阅读时长\r\nexport function updateOcDownloadReading(data) {\r\n  return request({\r\n    url: ouchnCustom + '/web/read/updateOcDownloadReading',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 更新阅读进度\r\nexport function updateOcReadSchedule(data) {\r\n  return request({\r\n    url: ouchnCustom + '/web/read/updateOcReadSchedule',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n// 获取转换后的图片路径（pdf在线阅读）\r\nexport function getConvertImagePath(params) {\r\n  return request({\r\n    url: ouchnCustom + '/getImagePathList',\r\n    // url: '/ouchn-customapi-xiemeng/getImagePathList',\r\n    method: 'get',\r\n    params: params\r\n  })\r\n}\r\n\r\n// 获取征订系统阅读路径\r\nexport function getFileLink(data) {\r\n  return request({\r\n    // url: ouchnCustom + '/web/read/getSolicitUserFileLinkAndIsHavingPermissions',\r\n    url: ouchnCustom + '/web/read/getSolicitUserFileLinkAndIsHavingPermissions?goodsId='+data.goodsId+'&goodsFileId='+data.filesId+'&fileType='+data.fileType,\r\n    method: 'get',\r\n    // data: data\r\n  })\r\n}\r\n"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","_s","fileName","goodsFilePath","attrs","srcList","_e","staticRenderFns","require","data","goodsId","$route","query","filesId","bookdetail","sourceList","readdefault","item","undefined","index","loading","setInterval2","TimeParameter","created","stopEvent","destroyed","closeTime","methods","document","oncontextmenu","e","selectTimeParameter","then","res","setInterval","updateOcDownloadReading","clearInterval","goodsFileId","relevanceId","resource","resourceType","teachInstId","tabbook","sourceName","$loading","lock","selectFileLinkAndReadingLocation","fileType","close","buys","payType","checkIsBuy","type","hasPermission","filePath","push","sourceStatus","Trial","checkIsBuys","$alert","confirmButtonText","callback","action","userId","$store","getters","console","log","$router","path","id","from","$message","error","commit","redirectPath","component","teachingAttrList","dictType","request","url","ouchnCustom","method","TeachingClassList","catalogType","goodsList","goodsInfoDetail","recommendGoods","recommendSubject","Listevaluate","params","CartAdd","IsCartAdd","BookshelfAdd","IsBookshelfAdd","delBookshelf","reportComment","SelGoodsStatus","SelSubjectStatus","isHavingPermissions","updateRecordAndSchedule","selectReadSchedule","platformCode","stuNum","ListSpecial","specialDetailInfo","subjectId","listResource","listEvaluate","insertNote","update","removeNoteById","noteId","selectNoteListByFileId","selectSubjectBase","selectSubjectGoodsList","selectBundleBase","selectBundleGoodsList","selectReadInfo","updateOcReadSchedule","getConvertImagePath","getFileLink"],"sourceRoot":""}