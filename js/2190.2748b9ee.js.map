{"version":3,"file":"js/2190.2748b9ee.js","mappings":"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","sources":["webpack://vue3_test/./src/views/onlineReading/components/videoread.vue","webpack://vue3_test/src/views/onlineReading/components/videoread.vue","webpack://vue3_test/./src/views/onlineReading/components/videoread.vue?1822","webpack://vue3_test/./src/views/onlineReading/components/videoread.vue?3b07","webpack://vue3_test/./src/api/bookstore/bookstore.js","webpack://vue3_test/./src/api/user/order.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"video_box_s\"},[_c('div',{staticClass:\"video_box\"},[_c('div',{staticClass:\"audiotitlex\"},[_vm._m(0),_c('div',{staticClass:\"fileName_box\"},[_vm._v(_vm._s(_vm.fileName))])]),_c('div',{staticClass:\"video_con\",on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.menuPlayer()}}},[(_vm.goodsFilePath)?_c('video-player',{ref:\"videoPlayer\",staticClass:\"video-player vjs-custom-skin\",attrs:{\"playsinline\":true,\"options\":_vm.playerOptions}}):_vm._e()],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img_box\",attrs:{\"src\":require(\"@/assets/icon/shipin.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"video_box_s\">\r\n    <div class=\"video_box\">\r\n      <div class=\"audiotitlex\">\r\n        <div class=\"img_box\">\r\n          <img class=\"img_box\" src=\"@/assets/icon/shipin.png\" />\r\n        </div>\r\n        <div class=\"fileName_box\">{{ fileName }}</div>\r\n      </div>\r\n      <div class=\"video_con\" @contextmenu.prevent=\"menuPlayer()\">\r\n        <video-player\r\n          v-if=\"goodsFilePath\"\r\n          class=\"video-player vjs-custom-skin\"\r\n          ref=\"videoPlayer\"\r\n          :playsinline=\"true\"\r\n          :options=\"playerOptions\"\r\n        ></video-player>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  selectTimeParameter, //获取调用阅读时长接口频率\r\n  updateOcDownloadReading, //更新用户阅读时长\r\n  selectFileLinkAndReadingLocation, //查看阅读文件地址和文件进度\r\n} from \"@/api/special/special\";\r\nimport { apiCreateOrder } from \"@/api/user/order\";\r\nimport { videoPlayer } from \"vue-video-player\";\r\nimport { checkIsBuy } from \"@/api/bookstore/bookstore\";\r\nimport \"video.js/dist/video-js.css\";\r\nexport default {\r\n  components: {\r\n    videoPlayer,\r\n  },\r\n  computed: {\r\n    playerOptions() {\r\n      // 使用计算属性\r\n      const playerOptionsObj = {\r\n        playbackRates: [0.5, 0.8, 1.0, 1.5, 2.0, 3.0, 5.0], //播放速度\r\n        autoplay: false, // 如果true,浏览器准备好时开始回放。\r\n        muted: false, // 默认情况下将会消除任何音频。\r\n        loop: false, // 导致视频一结束就重新开始。\r\n        preload: \"auto\", // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\r\n        language: \"zh-CN\",\r\n        aspectRatio: \"16:9\", // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n        fluid: false, // 当true时，Video.js player将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\r\n        sources: [\r\n          {\r\n            type: \"video/\" + this.fileType, // 资源格式写法：'video/mp4'，否则控制台会出现notSupportedMessage设置的错误\r\n            src: this.goodsFilePath, // url地址\r\n          },\r\n        ],\r\n        poster: \"\", // 你的封面地址\r\n        notSupportedMessage: \"此视频暂无法播放...\", // 允许覆盖Video.js无法播放媒体源时显示的默认信息。\r\n        controlBar: {\r\n          timeDivider: true,\r\n          durationDisplay: true,\r\n          remainingTimeDisplay: false,\r\n          fullscreenToggle: true, //全屏按钮\r\n        },\r\n      };\r\n      return playerOptionsObj;\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      fileName: \"\",\r\n      goodsId: this.$route.query.goodsId, //需要传递的参数\r\n      filesId: \"\", //需要传递的参数(资源文件id)\r\n      goodsFilePath: \"\", //需要传递的参数(资源文件路径)\r\n      bookdetail: {}, //基本信息\r\n      sourceList: [], //文件信息\r\n      readdefault: 0, //默认阅读第一个\r\n      loading: false,\r\n      wsitch: true,\r\n      isBookshelf: false,\r\n      fileType: \"mp4\",\r\n      setInterval2: undefined,\r\n      TimeParameter: 10, //更新频次-单位分钟\r\n    };\r\n  },\r\n  created() {\r\n    $(document).ready(function () {\r\n      $(\"#video\").bind(\"contextmenu\", function () {\r\n        return false;\r\n      });\r\n    });\r\n  },\r\n  destroyed() {\r\n    this.closeTime();\r\n  },\r\n  methods: {\r\n    selectTimeParameter() {\r\n      //获取更新 时长和进度 的频次\r\n      selectTimeParameter().then((res) => {\r\n        this.TimeParameter = res.data;\r\n        this.setInterval2 = setInterval(() => {\r\n          this.updateOcDownloadReading(); //更新阅读时长\r\n        }, this.TimeParameter * 60000);\r\n      });\r\n    },\r\n    closeTime() {\r\n      clearInterval(this.setInterval2);\r\n      this.setInterval2 = null;\r\n    },\r\n    updateOcDownloadReading() {\r\n      //更新用户阅读时长接口\r\n      updateOcDownloadReading({\r\n        goodsFileId: this.filesId,\r\n        goodsId: this.$route.query.goodsId,\r\n        relevanceId: this.$route.query.relevanceId,\r\n        resource: this.$route.query.resource,\r\n        resourceType: this.$route.query.resourceType,\r\n        teachInstId: this.$route.query.teachInstId,\r\n      }).then((res) => {});\r\n    },\r\n    tabbook(item) {\r\n      this.filesId = item.filesId;\r\n      this.loading = this.$loading({\r\n        lock: true,\r\n      });\r\n      this.fileName = item.sourceName;\r\n      selectFileLinkAndReadingLocation({\r\n        goodsFileId: item.filesId,\r\n        fileType: item.fileType,\r\n        goodsId: this.$route.query.goodsId,\r\n        relevanceId: this.$route.query.relevanceId,\r\n        resource: this.$route.query.resource,\r\n        resourceType: this.$route.query.resourceType,\r\n        teachInstId: this.$route.query.teachInstId,\r\n      }).then((res) => {\r\n        this.loading.close();\r\n        let data = res.data;\r\n        if (data) {\r\n          this.buys(item, data);\r\n        }\r\n      });\r\n    },\r\n\r\n    buys(item, data) {\r\n      //判断是否购买该商品\r\n      this.payType = this.$route.query.payType\r\n        ? this.$route.query.payType\r\n        : \"goods\";\r\n      checkIsBuy({\r\n        relevanceId: this.goodsId,\r\n        type: this.payType,\r\n      }).then((res) => {\r\n        if (data.hasPermission) {\r\n          //有权限\r\n          this.goodsFilePath = data.filePath;\r\n          this.selectTimeParameter(); //获取更新进度和时长的频次   循环调用更新时长和更新进度方法\r\n        } else if (res.data == \"1\" && item.sourceStatus == \"2\") {\r\n          this.Trial = true; //试读\r\n          this.goodsFilePath = data.filePath;\r\n        } else {\r\n          //无权限\r\n          this.goodsFilePath = \"\";\r\n          this.checkIsBuys();\r\n        }\r\n      });\r\n    },\r\n\r\n    checkIsBuys() {\r\n      //无权限走购买流程\r\n      this.$alert(\"该文件需要购买后才能阅读，是否确认购买\", \"购买\", {\r\n        confirmButtonText: \"立即购买\",\r\n        callback: (action) => {\r\n          if (action === \"cancel\") {\r\n            return;\r\n          }\r\n          let userId = this.$store.getters.userId;\r\n          if (!userId) {\r\n            this.$store.commit(\"SET_REDIRECTPARAMS\", {\r\n              goodsId: this.$route.query.goodsId,\r\n              relevanceId: this.$route.query.relevanceId,\r\n              resource: this.$route.query.resource,\r\n              resourceType: this.$route.query.resourceType,\r\n            });\r\n            this.$router.push({\r\n              path: \"/login\",\r\n              query: {\r\n                redirectPath: \"/onlineReading\",\r\n              },\r\n            });\r\n          } else {\r\n            //判断是否购买该商品\r\n            this.payType = this.$route.query.payType\r\n              ? this.$route.query.payType\r\n              : \"goods\";\r\n            checkIsBuy({\r\n              relevanceId: this.goodsId,\r\n              type: this.payType,\r\n            }).then((res) => {\r\n              console.log(\"是否已购买响应\", res);\r\n              if (res.data === \"2\") {\r\n                this.$message.error(\"数据异常\");\r\n                return;\r\n              }\r\n              if (res.data === \"1\") {\r\n                this.$router.push({\r\n                  path: \"/submitOrder/index\",\r\n                  query: {\r\n                    id: this.$route.query.goodsId,\r\n                    from: \"bookstore\",\r\n                  },\r\n                });\r\n              } else {\r\n                this.$message(\"该商品已购买无需重复购买\");\r\n              }\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n    menuPlayer() {},\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.video_box_s {\r\n  overflow: hidden;\r\n}\r\n.video_box {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  box-sizing: border-box;\r\n  overflow: hidden;\r\n  background: #fffefd;\r\n  min-height: 95vh;\r\n}\r\n\r\n.video_boxt {\r\n  width: 100%;\r\n  float: left;\r\n  font-size: 14px;\r\n  padding: 0 20px;\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  line-height: 41px;\r\n  margin-bottom: 30px;\r\n  height: 41px;\r\n  border-bottom: 1px solid #f2f2f2;\r\n}\r\n\r\n.video_con {\r\n  width: 100%;\r\n  height: 90vh;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n}\r\n.course_node_video ::v-deep .vjs-progress-control {\r\n  pointer-events: none;\r\n}\r\n::v-deep .vjs-time-tooltip {\r\n  width: 50px;\r\n}\r\n/* //video */\r\nvideo::-internal-media-controls-download-button {\r\n  display: none;\r\n}\r\n\r\nvideo::-webkit-media-controls-enclosure {\r\n  overflow: hidden;\r\n}\r\n\r\nvideo::-webkit-media-controls-panel {\r\n  width: calc(100% + 30px);\r\n}\r\n/* //audio */\r\naudio::-internal-media-controls-download-button {\r\n  display: none;\r\n}\r\naudio::-webkit-media-controls-enclosure {\r\n  overflow: hidden;\r\n}\r\naudio::-webkit-media-controls-panel {\r\n  width: calc(100% + 35px);\r\n}\r\n::v-deep .vjs-big-play-button {\r\n  left: 50%;\r\n  top: 50%;\r\n  margin-left: -45px;\r\n  margin-top: -22.5px;\r\n}\r\n.img_box {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #666666;\r\n}\r\n.audiotitlex {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 5px 15px;\r\n  border-bottom: 1px solid #f2f2f2;\r\n  padding: 5px;\r\n}\r\n.fileName_box {\r\n  margin-left: 10px;\r\n  font-size: 14px;\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  line-height: 26px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./videoread.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./videoread.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./videoread.vue?vue&type=template&id=0c00aea6&scoped=true&\"\nimport script from \"./videoread.vue?vue&type=script&lang=js&\"\nexport * from \"./videoread.vue?vue&type=script&lang=js&\"\nimport style0 from \"./videoread.vue?vue&type=style&index=0&id=0c00aea6&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0c00aea6\",\n  null\n  \n)\n\nexport default component.exports","import request from \"@/utils/request\";\r\nimport { ouchnCustom } from \"@/service\";\r\n\r\n//根据字典查询字典信息——教学类、教辅类、学术类、试卷类、其他类、\r\nexport function teachingAttrList(dictType) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getDictListByDictType?dictType=\" + dictType,\r\n    method: \"get\"\r\n  });\r\n}\r\n\r\n//查询某一项教学属性下的分类\r\nexport function TeachingClassList(catalogType) {\r\n  return request({\r\n    url:\r\n      ouchnCustom + \"/web/goods/getTreeSelectByType?catalogType=\" + catalogType,\r\n    method: \"get\"\r\n  });\r\n}\r\n//查询书城商品列表\r\nexport function goodsList(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/selGoodsList\",\r\n    method: \"post\",\r\n    data: data\r\n  });\r\n}\r\n//查询书城详情商品详情信息\r\nexport function goodsInfoDetail(goodsId) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/selGoodsById?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n// 查询书城详情——推荐商品\r\nexport function recommendGoods(goodsId) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getRecomGoodsList?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n// 查询书城详情——推荐专题\r\nexport function recommendSubject(goodsId) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getRecomSubjectList?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n// 查询书城详情——商品评价\r\nexport function Listevaluate(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/getEvaluateListByGoodsId\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n// 加入购物车\r\nexport function CartAdd(goodsId, userId) {\r\n  return request({\r\n    url:\r\n      ouchnCustom +\r\n      \"/web/api/ocShoppingCart/addShoppingCart?goodsId=\" +\r\n      goodsId +\r\n      \"&userId=\" +\r\n      userId,\r\n    method: \"get\"\r\n  });\r\n}\r\n//判断是否加入购物车\r\nexport function IsCartAdd(goodsId) {\r\n  return request({\r\n    url:\r\n      ouchnCustom +\r\n      \"/web/api/ocShoppingCart/isAddShoppingCart?goodsId=\" +\r\n      goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n//加入书架\r\nexport function BookshelfAdd(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/addBookshelf\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n//判断是否加入书架\r\nexport function IsBookshelfAdd(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/isAddBookshelf\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n//取消加入书架\r\nexport function delBookshelf(query) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/goods/delBookshelf\",\r\n    method: \"get\",\r\n    params: query\r\n  });\r\n}\r\n//举报评论\r\nexport function reportComment(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/api/ocEvaluate/addReport\",\r\n    method: \"post\",\r\n    data: data\r\n  });\r\n}\r\n\r\n//判断是否\r\nexport function checkIsBuy(params) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/read/selectIsBuy\",\r\n    method: \"get\",\r\n    params\r\n  });\r\n}\r\n//判断商品状态\r\nexport function SelGoodsStatus(goodsId) {\r\n  return request({\r\n    url:\r\n      ouchnCustom + \"/web/api/ocShoppingCart/selGoodsStatus?goodsId=\" + goodsId,\r\n    method: \"get\"\r\n  });\r\n}\r\n//判断专题状态\r\nexport function SelSubjectStatus(id) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/api/ocShoppingCart/selSubjectStatus?id=\" + id,\r\n    method: \"get\"\r\n  });\r\n}\r\n//查看文件是否有阅读权限\r\nexport function isHavingPermissions(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/read/isHavingPermissions\",\r\n    method: \"POST\",\r\n    data: data\r\n  });\r\n}\r\n\r\n//第三方阅读更新阅读记录和阅读进度\r\nexport function updateRecordAndSchedule(data) {\r\n  return request({\r\n    url: ouchnCustom + \"/web/otherRead/updateRecordAndSchedule\",\r\n    method: \"POST\",\r\n    data: data\r\n  });\r\n}\r\n\r\n//查询第三方阅读进度\r\nexport function selectReadSchedule(data) {\r\n  return request({\r\n    url:\r\n      ouchnCustom +\r\n      \"/web/otherRead/selectReadSchedule?goodsFileId=\" +\r\n      data.goodsFileId +\r\n      \"&platformCode=\" +\r\n      data.platformCode +\r\n      \"&stuNum=\" +\r\n      data.stuNum,\r\n    method: \"GET\"\r\n    // data: data\r\n  });\r\n}\r\n","import request, { post, get } from '@/utils/request'\r\nimport { ouchnCustom } from '../../service'\r\n\r\nconst urlGetUserOrderList = ouchnCustom + '/web/api/ocOrder/orderList'\r\nconst urlCreateOrder = ouchnCustom + '/web/api/ocOrder/addOcOrder'\r\nconst urlCreateSubjectOrder = ouchnCustom + '/web/api/ocOrder/addOcOrderSubject'\r\nconst urlGetOrderDetail = ouchnCustom + '/web/api/ocOrder/orderChildList'\r\nconst urlDeleteOrderRecordById = ouchnCustom + '/web/api/ocOrder/deleteById'\r\nconst urlGetTotalGroup = ouchnCustom + '/web/api/ocOrder/orderCountByStatus'\r\nconst urlCancelOrder = ouchnCustom + '/web/api/ocOrder/updateOrderStatus'\r\nconst urlAfterPay = ouchnCustom + '/web/api/ocOrder/addOrderInMyResource'\r\nconst urlCheckIsCreated = ouchnCustom + '/web/api/ocOrder/orderCompareByUserId'\r\nconst IntegralRecord = ouchnCustom + '/web/IntegralRecord/list'\r\nconst IntegralRecordCount = ouchnCustom + '/web/IntegralRecord/count'\r\n\r\n// 获取用户订单列表\r\nexport const apiGetUserOrderList = (params) => get(urlGetUserOrderList, params)\r\n\r\n// 创建订单\r\nexport const apiCreateOrder = (data) => post(urlCreateOrder, data)\r\n\r\n// 创建专题订单\r\nexport const apiCreateSubjectOrder = (data) => post(urlCreateSubjectOrder, data)\r\n\r\n// 取消订单\r\n// export const apiCancelOrder = (data) => post(urlCancelOrder, data)\r\nexport const apiCancelOrder = (data) => post(`${urlCancelOrder}?id=${data.id}`)\r\n\r\n// 订单支付成功后修改订单状态\r\nexport const apiAfterPay = (data) => post(`${urlAfterPay}?id=${data.id}`)\r\n\r\n// 获取订单明细列表\r\nexport const apiGetOrderDetail = (params) => get(urlGetOrderDetail, params)\r\n\r\n// 获取用户订单各状态下的total数\r\nexport const apiGetTotalGroup = (params) => get(urlGetTotalGroup, params)\r\n\r\n// 验证该商品是否已提交过订单\r\nexport const apiCheckIsCreated = (params) => get(urlCheckIsCreated, params)\r\n\r\n// 根据主键删除订单记录\r\nexport const apiDeleteOrderRecordById = (params) => {\r\n  return request({\r\n    url: urlDeleteOrderRecordById,\r\n    method: 'delete',\r\n    params,\r\n  })\r\n}\r\n// 积分\r\nexport const Integral = (params) => {\r\n  return request({\r\n    url: IntegralRecord,\r\n    method: 'get',\r\n    params,\r\n  })\r\n}\r\n// 总计\r\nexport const IntegralCount = (params) => {\r\n  return request({\r\n    url: IntegralRecordCount,\r\n    method: 'get',\r\n    params,\r\n  })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","_s","fileName","on","$event","preventDefault","menuPlayer","goodsFilePath","ref","attrs","playerOptions","_e","staticRenderFns","require","components","videoPlayer","computed","playerOptionsObj","playbackRates","autoplay","muted","loop","preload","language","aspectRatio","fluid","sources","type","fileType","src","poster","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","fullscreenToggle","data","goodsId","$route","query","filesId","bookdetail","sourceList","readdefault","loading","wsitch","isBookshelf","setInterval2","undefined","TimeParameter","created","$","document","ready","bind","destroyed","closeTime","methods","selectTimeParameter","then","res","setInterval","updateOcDownloadReading","clearInterval","goodsFileId","relevanceId","resource","resourceType","teachInstId","tabbook","item","$loading","lock","sourceName","selectFileLinkAndReadingLocation","close","buys","payType","checkIsBuy","hasPermission","filePath","sourceStatus","Trial","checkIsBuys","$alert","confirmButtonText","callback","action","userId","$store","getters","console","log","$router","push","path","id","from","$message","error","commit","redirectPath","component","teachingAttrList","dictType","request","url","ouchnCustom","method","TeachingClassList","catalogType","goodsList","goodsInfoDetail","recommendGoods","recommendSubject","Listevaluate","params","CartAdd","IsCartAdd","BookshelfAdd","IsBookshelfAdd","delBookshelf","reportComment","SelGoodsStatus","SelSubjectStatus","isHavingPermissions","updateRecordAndSchedule","selectReadSchedule","platformCode","stuNum","urlGetUserOrderList","urlCreateOrder","urlCreateSubjectOrder","urlDeleteOrderRecordById","urlGetTotalGroup","urlCancelOrder","urlAfterPay","IntegralRecord","IntegralRecordCount","apiGetUserOrderList","get","apiCreateOrder","post","apiCreateSubjectOrder","apiCancelOrder","apiAfterPay","apiGetTotalGroup","apiDeleteOrderRecordById","Integral","IntegralCount"],"sourceRoot":""}