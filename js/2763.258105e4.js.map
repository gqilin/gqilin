{"version":3,"file":"js/2763.258105e4.js","mappings":"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","sources":["webpack://vue3_test/./src/views/user/orderDetail/orderAppraise.vue","webpack://vue3_test/src/views/user/orderDetail/orderAppraise.vue","webpack://vue3_test/./src/views/user/orderDetail/orderAppraise.vue?2d9b","webpack://vue3_test/./src/views/user/orderDetail/orderAppraise.vue?0c9a","webpack://vue3_test/./src/api/user/evaluate.js","webpack://vue3_test/./src/api/user/order.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"page orderAppraise\"},[_c('div',{staticClass:\"list-wrap\"},_vm._l((_vm.goodsList),function(item,index){return _c('div',{key:index,staticClass:\"goods-box\"},[_c('div',{staticClass:\"cover-box\"},[_c('el-image',{staticClass:\"cover-img\",attrs:{\"fit\":\"contain\",\"src\":item.cover || require('@/assets/images/default-bundle-cover.png') || ''}})],1),_c('div',{staticClass:\"main-box\"},[_c('div',{staticClass:\"cell-row\"},[(item | _vm.resourceTag)?_c('el-tag',{staticClass:\"tag\"},[_vm._v(_vm._s(_vm._f(\"resourceTag\")(item)))]):_vm._e(),_c('div',{staticClass:\"title ou-expand ou-ellipsis\"},[_vm._v(_vm._s(item.resourceName))])],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!!item.authorRecommendation),expression:\"!!item.authorRecommendation\"}],staticClass:\"recommend ou-text-ellipsis-2\"},[_vm._v(\" \"+_vm._s(item.authorRecommendation)+\" \")]),_c('el-form',{ref:\"appRaiseForm\",refInFor:true,attrs:{\"model\":_vm.appRaiseForm[index],\"rules\":_vm.appRaiseRules,\"label-suffix\":\": \"}},[_c('el-form-item',{staticClass:\"rate-item\",attrs:{\"label\":\"商品评分\",\"prop\":\"rate\"}},[_c('el-rate',{attrs:{\"colors\":['#D81E06', '#D81E06', '#D81E06']},model:{value:(_vm.appRaiseForm[index].rate),callback:function ($$v) {_vm.$set(_vm.appRaiseForm[index], \"rate\", $$v)},expression:\"appRaiseForm[index].rate\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"content\"}},[_c('el-input',{attrs:{\"resize\":\"none\",\"type\":\"textarea\",\"rows\":7,\"maxLength\":201,\"placeholder\":\"请输入商品评价\"},model:{value:(_vm.appRaiseForm[index].content),callback:function ($$v) {_vm.$set(_vm.appRaiseForm[index], \"content\", $$v)},expression:\"appRaiseForm[index].content\"}})],1)],1)],1)])}),0),_c('div',{staticClass:\"footer-wrap\"},[_c('el-button',{staticClass:\"submit-btn\",on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交评价\")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <section class=\"page orderAppraise\">\r\n    <div class=\"list-wrap\">\r\n      <div class=\"goods-box\" v-for=\"(item, index) in goodsList\" :key=\"index\">\r\n        <div class=\"cover-box\">\r\n          <el-image class=\"cover-img\" fit=\"contain\" :src=\"item.cover || require('@/assets/images/default-bundle-cover.png') || ''\"></el-image>\r\n        </div>\r\n        <div class=\"main-box\">\r\n          <div class=\"cell-row\">\r\n            <el-tag class=\"tag\" v-if=\"item | resourceTag\">{{ item | resourceTag }}</el-tag>\r\n            <div class=\"title ou-expand ou-ellipsis\">{{ item.resourceName }}</div>\r\n          </div>\r\n          <div v-show=\"!!item.authorRecommendation\" class=\"recommend ou-text-ellipsis-2\">\r\n            {{ item.authorRecommendation }}\r\n          </div>\r\n          <el-form ref=\"appRaiseForm\" :model=\"appRaiseForm[index]\" :rules=\"appRaiseRules\" label-suffix=\": \">\r\n            <el-form-item class=\"rate-item\" label=\"商品评分\" prop=\"rate\">\r\n              <el-rate :colors=\"['#D81E06', '#D81E06', '#D81E06']\" v-model=\"appRaiseForm[index].rate\"></el-rate>\r\n            </el-form-item>\r\n            <el-form-item prop=\"content\">\r\n              <el-input\r\n                resize=\"none\"\r\n                type=\"textarea\"\r\n                :rows=\"7\"\r\n                :maxLength=\"201\"\r\n                placeholder=\"请输入商品评价\"\r\n                v-model=\"appRaiseForm[index].content\"\r\n              >\r\n              </el-input>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"footer-wrap\">\r\n      <el-button class=\"submit-btn\" @click=\"handleSubmit\">提交评价</el-button>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { apiGetUserOrderList } from '@/api/user/order'\r\nimport { apiAddEvaluate } from '@/api/user/evaluate'\r\nexport default {\r\n  name: 'orderAppraise',\r\n  components: {},\r\n  data() {\r\n    return {\r\n      detail: {},\r\n      goodsList: [],\r\n      appRaiseForm: [],\r\n      appRaiseRules: {\r\n        rate: [{ required: true, trigger: 'blur', message: '请选择评分' }],\r\n        content: [{ max: 200, trigger: ['blur', 'change'], message: '评价内容最多可输入200字' }],\r\n      },\r\n    }\r\n  },\r\n  watch: {},\r\n  filters: {\r\n    resourceTag(item) {\r\n      let text = '-'\r\n      if (item.sourceType === 'subject') {\r\n        text = '专题'\r\n      } else if (item.sourceType === 'goods') {\r\n        text = item.sourceFile || ''\r\n      }\r\n      return text\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapGetters(['userId']),\r\n  },\r\n  activated() {\r\n    let { orderNumber } = this.$route.query\r\n    this.getOrderDetail(orderNumber)\r\n  },\r\n  mounted() {},\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      if (from.path === '/user/orderDetail/index') {\r\n        let { orderNumber } = vm.$route.query\r\n        vm.getOrderDetail(orderNumber)\r\n      }\r\n    })\r\n  },\r\n  methods: {\r\n    getOrderDetail(orderNumber) {\r\n      // TODO：此处暂时用hack的方式, 通过传入订单号筛选订单列表的方式获取详情\r\n      apiGetUserOrderList({ userId: this.userId, pageNum: 1, pageSize: 2, keyword: orderNumber }).then((res) => {\r\n        let list = res.rows || []\r\n        if (list.length >= 2) {\r\n          this.$message.error('获取详情失败，请稍后重试')\r\n          retrun\r\n        }\r\n        this.detail = list[0] || {}\r\n        let dataList = this.detail.ocOrderChildList || [],\r\n          formInitList = []\r\n        dataList.forEach((item) => {\r\n          formInitList.push({ rate: 5, content: '' })\r\n        })\r\n        this.goodsList = dataList\r\n        this.appRaiseForm = formInitList\r\n      })\r\n    },\r\n    handleSubmit() {\r\n      let forms = this.$refs.appRaiseForm\r\n      let data = [],\r\n        hasError = false,\r\n        completeFlag = 0\r\n      forms.forEach((form, index) => {\r\n        form\r\n          .validate()\r\n          .then((value) => {\r\n            let item = this.goodsList[index],\r\n              formValue = this.appRaiseForm[index]\r\n            console.log('当前表单对象', item)\r\n            let { relevanceId, orderId, sourceType } = item\r\n            let { rate: score, content } = formValue\r\n            let obj = {\r\n              content,\r\n              orderId,\r\n              relevanceId,\r\n              score,\r\n              type: sourceType,\r\n            }\r\n            data.push(obj)\r\n            completeFlag++\r\n          })\r\n          .catch(() => (hasError = true))\r\n      })\r\n      let updateWoker = setInterval(() => {\r\n        if (completeFlag === forms.length) {\r\n          clearInterval(updateWoker)\r\n          if (hasError) {\r\n            return\r\n          }\r\n          apiAddEvaluate(data).then((res) => {\r\n            if(res.data==='已评价过这些商品') {\r\n              this.$message.error('已评价过此订单商品')\r\n              return\r\n            }\r\n            this.$message.success('评价成功')\r\n            // 跳转我的评价页\r\n            setTimeout(() => {\r\n              this.$router.push('/user/myEvaluate')\r\n            }, 1000)\r\n          })\r\n        }\r\n      }, 100)\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.list-wrap {\r\n  padding: 0 20px;\r\n  .goods-box {\r\n    padding: 30px 0;\r\n    border-bottom: 1px solid #f2f2f2;\r\n    display: flex;\r\n    .cover-box {\r\n      padding: 0 20px;\r\n      .cover-img {\r\n        width: 300px;\r\n        height: 300px;\r\n        box-shadow: 0 0 3px 2px #f2f2f2;\r\n      }\r\n    }\r\n    .main-box >>> {\r\n      flex: 1;\r\n      padding: 0 20px;\r\n      .cell-row {\r\n        display: flex;\r\n        align-items: center;\r\n        .tag {\r\n          height: 24px;\r\n          line-height: 22px;\r\n          padding: 0 11px;\r\n          background-color: #f9fdff;\r\n          border: 1px solid #0081ce;\r\n          border-radius: 6px;\r\n          margin-right: 10px;\r\n        }\r\n        .title {\r\n          font-size: 16px;\r\n          color: #333333;\r\n          font-weight: 400;\r\n        }\r\n      }\r\n      .recommend {\r\n        line-height: normal;\r\n        margin-top: 20px;\r\n        font-size: 14px;\r\n        color: #666666;\r\n      }\r\n      .el-form-item.rate-item {\r\n        display: flex;\r\n        align-items: center;\r\n        margin-bottom: 10px;\r\n        margin-top: 20px;\r\n        .el-form-item__label {\r\n          line-height: normal;\r\n          color: #333333;\r\n        }\r\n      }\r\n      .el-textarea__inner {\r\n        background-color: #f2f2f2;\r\n        border-color: #f2f2f2;\r\n        border-radius: 6px;\r\n      }\r\n      ::-webkit-input-placeholder {\r\n        color: #999999;\r\n      }\r\n    }\r\n  }\r\n}\r\n.footer-wrap {\r\n  padding: 40px;\r\n  text-align: center;\r\n  .submit-btn {\r\n    width: 140px;\r\n    height: 40px;\r\n    background: #2e9adb;\r\n    border-radius: 6px;\r\n    color: #ffffff;\r\n    font-size: 16px;\r\n    font-weight: 400;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderAppraise.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./orderAppraise.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderAppraise.vue?vue&type=template&id=428cfcf0&scoped=true&\"\nimport script from \"./orderAppraise.vue?vue&type=script&lang=js&\"\nexport * from \"./orderAppraise.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderAppraise.vue?vue&type=style&index=0&id=428cfcf0&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"428cfcf0\",\n  null\n  \n)\n\nexport default component.exports","import request, { post, get } from '@/utils/request'\r\nimport { ouchnCustom } from '../../service'\r\n\r\nconst urlAddEvaluate = ouchnCustom + '/web/api/ocEvaluate/addEvaluate'\r\nconst urlDeleteEvaluate = ouchnCustom + '/web/api/ocEvaluate/del'\r\nconst urlGetEvaluateList = ouchnCustom + '/web/api/ocEvaluate/list'\r\nconst urlSelectEvaluate = ouchnCustom + '/web/api/ocEvaluate'\r\n// const url = ouchnCustom + ''\r\n\r\n// 为订单添加评论\r\nexport const apiAddEvaluate = (data) => post(urlAddEvaluate, data)\r\n\r\n// 获取评价列表\r\nexport const apiGetEvaluateList = (params) => get(urlGetEvaluateList, params)\r\n\r\n// 获取用户订单各状态下的total数\r\nexport const apiPathEvaluate = (params) => get(`${urlSelectEvaluate}/${params.id}`)\r\n\r\n// 根据主键删除评价并修改商品评分\r\nexport const apiDeleteEvaluate = (params) => {\r\n  return request({\r\n    url: urlDeleteEvaluate,\r\n    method: 'delete',\r\n    params,\r\n  })\r\n}\r\n","import request, { post, get } from '@/utils/request'\r\nimport { ouchnCustom } from '../../service'\r\n\r\nconst urlGetUserOrderList = ouchnCustom + '/web/api/ocOrder/orderList'\r\nconst urlCreateOrder = ouchnCustom + '/web/api/ocOrder/addOcOrder'\r\nconst urlCreateSubjectOrder = ouchnCustom + '/web/api/ocOrder/addOcOrderSubject'\r\nconst urlGetOrderDetail = ouchnCustom + '/web/api/ocOrder/orderChildList'\r\nconst urlDeleteOrderRecordById = ouchnCustom + '/web/api/ocOrder/deleteById'\r\nconst urlGetTotalGroup = ouchnCustom + '/web/api/ocOrder/orderCountByStatus'\r\nconst urlCancelOrder = ouchnCustom + '/web/api/ocOrder/updateOrderStatus'\r\nconst urlAfterPay = ouchnCustom + '/web/api/ocOrder/addOrderInMyResource'\r\nconst urlCheckIsCreated = ouchnCustom + '/web/api/ocOrder/orderCompareByUserId'\r\nconst IntegralRecord = ouchnCustom + '/web/IntegralRecord/list'\r\nconst IntegralRecordCount = ouchnCustom + '/web/IntegralRecord/count'\r\n\r\n// 获取用户订单列表\r\nexport const apiGetUserOrderList = (params) => get(urlGetUserOrderList, params)\r\n\r\n// 创建订单\r\nexport const apiCreateOrder = (data) => post(urlCreateOrder, data)\r\n\r\n// 创建专题订单\r\nexport const apiCreateSubjectOrder = (data) => post(urlCreateSubjectOrder, data)\r\n\r\n// 取消订单\r\n// export const apiCancelOrder = (data) => post(urlCancelOrder, data)\r\nexport const apiCancelOrder = (data) => post(`${urlCancelOrder}?id=${data.id}`)\r\n\r\n// 订单支付成功后修改订单状态\r\nexport const apiAfterPay = (data) => post(`${urlAfterPay}?id=${data.id}`)\r\n\r\n// 获取订单明细列表\r\nexport const apiGetOrderDetail = (params) => get(urlGetOrderDetail, params)\r\n\r\n// 获取用户订单各状态下的total数\r\nexport const apiGetTotalGroup = (params) => get(urlGetTotalGroup, params)\r\n\r\n// 验证该商品是否已提交过订单\r\nexport const apiCheckIsCreated = (params) => get(urlCheckIsCreated, params)\r\n\r\n// 根据主键删除订单记录\r\nexport const apiDeleteOrderRecordById = (params) => {\r\n  return request({\r\n    url: urlDeleteOrderRecordById,\r\n    method: 'delete',\r\n    params,\r\n  })\r\n}\r\n// 积分\r\nexport const Integral = (params) => {\r\n  return request({\r\n    url: IntegralRecord,\r\n    method: 'get',\r\n    params,\r\n  })\r\n}\r\n// 总计\r\nexport const IntegralCount = (params) => {\r\n  return request({\r\n    url: IntegralRecordCount,\r\n    method: 'get',\r\n    params,\r\n  })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","_l","goodsList","item","index","key","attrs","cover","require","resourceTag","_v","_s","_f","_e","resourceName","directives","name","rawName","value","authorRecommendation","expression","ref","refInFor","appRaiseForm","appRaiseRules","model","rate","callback","$$v","$set","content","on","handleSubmit","staticRenderFns","components","data","detail","required","trigger","message","max","watch","filters","text","sourceType","sourceFile","computed","mapGetters","activated","orderNumber","$route","query","getOrderDetail","mounted","beforeRouteEnter","to","from","next","vm","path","methods","apiGetUserOrderList","userId","pageNum","pageSize","keyword","then","res","list","rows","length","$message","error","retrun","dataList","ocOrderChildList","formInitList","forEach","push","forms","$refs","hasError","completeFlag","form","validate","formValue","console","log","relevanceId","orderId","score","obj","type","catch","updateWoker","setInterval","clearInterval","apiAddEvaluate","success","setTimeout","$router","component","urlAddEvaluate","ouchnCustom","urlDeleteEvaluate","urlGetEvaluateList","post","apiGetEvaluateList","params","get","apiDeleteEvaluate","request","url","method","urlGetUserOrderList","urlCreateOrder","urlCreateSubjectOrder","urlDeleteOrderRecordById","urlGetTotalGroup","urlCancelOrder","urlAfterPay","IntegralRecord","IntegralRecordCount","apiCreateOrder","apiCreateSubjectOrder","apiCancelOrder","id","apiAfterPay","apiGetTotalGroup","apiDeleteOrderRecordById","Integral","IntegralCount"],"sourceRoot":""}