{"version":3,"file":"js/3969.f6bdbda3.js","mappings":"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","sources":["webpack://vue3_test/./src/views/onlineReading/components/audioread.vue","webpack://vue3_test/src/views/onlineReading/components/audioread.vue","webpack://vue3_test/./src/views/onlineReading/components/audioread.vue?d6a1","webpack://vue3_test/./src/views/onlineReading/components/audioread.vue?3212","webpack://vue3_test/./src/views/onlineReading/mobileClient/components/audioPlay1.vue","webpack://vue3_test/src/views/onlineReading/mobileClient/components/audioPlay1.vue","webpack://vue3_test/./src/views/onlineReading/mobileClient/components/audioPlay1.vue?3689","webpack://vue3_test/./src/views/onlineReading/mobileClient/components/audioPlay1.vue?e2b3"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"audio_box_s\"},[_c('div',[_c('div',{staticClass:\"audiotitlex\"},[_vm._m(0),_c('div',{staticClass:\"fileName_box\"},[_vm._v(\" \"+_vm._s(_vm.fileName)+\" \")])])]),_c('div',{staticClass:\"_box\"},[_c('div',{staticClass:\"image_box_row\"},[_c('el-image',{staticClass:\"read_leftt1_imgx\",attrs:{\"src\":_vm.select_index,\"fit\":\"contain\"}})],1)]),_c('div',{staticClass:\"top\"},[_c('audioPlay',{ref:\"audio\",attrs:{\"url\":_vm.goodsFilePath,\"title\":_vm.fileName}})],1)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img_box\",attrs:{\"src\":require(\"@/assets/icon/yinyue.png\")}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"audio_box_s\">\r\n      <div>\r\n        <div class=\"audiotitlex\">\r\n          <div class=\"img_box\">\r\n            <img class=\"img_box\" src=\"@/assets/icon/yinyue.png\" />\r\n          </div>\r\n          <div class=\"fileName_box\">\r\n            {{ fileName }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"_box\">\r\n        <div class=\"image_box_row\">\r\n          <el-image\r\n            class=\"read_leftt1_imgx\"\r\n            :src=\"select_index\"\r\n            fit=\"contain\"\r\n          ></el-image>\r\n        </div>\r\n      </div>\r\n      <div class=\"top\">\r\n        <audioPlay\r\n          ref=\"audio\"\r\n          :url=\"goodsFilePath\"\r\n          :title=\"fileName\"\r\n        ></audioPlay>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport {\r\n  selectTimeParameter, //获取调用阅读时长接口频率\r\n  updateOcDownloadReading, //更新用户阅读时长\r\n  selectFileLinkAndReadingLocation, //查看阅读文件地址和文件进度\r\n} from \"@/api/special/special\";\r\nimport { videoPlayer } from \"vue-video-player\";\r\nimport { checkIsBuy } from \"@/api/bookstore/bookstore\";\r\nimport \"video.js/dist/video-js.css\";\r\nimport audioPlay from \"@/views/onlineReading/mobileClient/components/audioPlay1.vue\";\r\nexport default {\r\n  components: {\r\n    videoPlayer,\r\n    audioPlay,\r\n  },\r\n  data() {\r\n    return {\r\n      fileName: \"\",\r\n      goodsFileId: undefined,\r\n      goodsId: this.$route.query.goodsId, //需要传递的参数\r\n      filesId: \"\", //需要传递的参数(资源文件id)\r\n      relevanceId: undefined,\r\n      resource: undefined,\r\n      resourceType: undefined,\r\n      teachInstId: undefined,\r\n      goodsFilePath: \"\", //需要传递的参数(资源文件路径)\r\n      readdefault: 0, //默认阅读第一个\r\n      loading: false,\r\n      play: false,\r\n      setInterval2: undefined,\r\n      TimeParameter: 10, //更新频次-单位分钟\r\n    };\r\n  },\r\n  props: {\r\n    select_index: String,\r\n  },\r\n  created() {},\r\n  destroyed() {\r\n    this.closeTime();\r\n  },\r\n  methods: {\r\n    selectTimeParameter() {\r\n      //获取更新 时长和进度 的频次\r\n      selectTimeParameter().then((res) => {\r\n        this.TimeParameter = res.data;\r\n        this.setInterval2 = setInterval(() => {\r\n          this.updateOcDownloadReading(); //更新阅读时长\r\n        }, this.TimeParameter * 60000);\r\n      });\r\n    },\r\n    closeTime() {\r\n      clearInterval(this.setInterval2);\r\n      this.setInterval2 = null;\r\n    },\r\n    updateOcDownloadReading() {\r\n      //更新用户阅读时长接口\r\n      updateOcDownloadReading({\r\n        goodsFileId: this.filesId,\r\n        goodsId: this.$route.query.goodsId,\r\n        relevanceId: this.$route.query.relevanceId,\r\n        resource: this.$route.query.resource,\r\n        resourceType: this.$route.query.resourceType,\r\n        teachInstId: this.$route.query.teachInstId,\r\n      }).then((res) => {});\r\n    },\r\n    tabbook(item) {\r\n      this.$refs.audio.onPlayerEnded();\r\n      this.loading = this.$loading({\r\n        lock: true,\r\n      });\r\n      this.goodsFileId = item.filesId;\r\n      this.fileName = item.sourceName;\r\n      this.filesId = item.filesId;\r\n      selectFileLinkAndReadingLocation({\r\n        goodsFileId: item.filesId, //goodsFileId没有，谢萌说可用filesId\r\n        fileType: item.fileType,\r\n        goodsId: this.$route.query.goodsId,\r\n        relevanceId: this.$route.query.relevanceId,\r\n        resource: this.$route.query.resource,\r\n        resourceType: this.$route.query.resourceType,\r\n        teachInstId: this.$route.query.teachInstId,\r\n      }).then((res) => {\r\n        this.loading.close();\r\n        let data = res.data;\r\n        if (data) {\r\n          this.buys(item, data);\r\n        }\r\n      });\r\n    },\r\n    buys(item, data) {\r\n      //判断是否购买该商品\r\n      this.payType = this.$route.query.payType\r\n        ? this.$route.query.payType\r\n        : \"goods\";\r\n      checkIsBuy({\r\n        relevanceId: this.goodsId,\r\n        type: this.payType,\r\n      }).then((res) => {\r\n        if (data.hasPermission) {\r\n          //有权限\r\n          this.goodsFilePath = data.filePath;\r\n          this.selectTimeParameter(); //获取更新进度和时长的频次   循环调用更新时长和更新进度方法\r\n        } else if (res.data == \"1\" && item.sourceStatus == \"2\") {\r\n          this.Trial = true; //试读\r\n          this.goodsFilePath = data.filePath;\r\n        } else {\r\n          //无权限\r\n          this.goodsFilePath = \"\";\r\n          this.checkIsBuys();\r\n        }\r\n      });\r\n    },\r\n\r\n    checkIsBuys() {\r\n      //无权限走购买流程\r\n      this.$alert(\"该文件需要购买后才能阅读，是否确认购买\", \"购买\", {\r\n        confirmButtonText: \"立即购买\",\r\n        callback: (action) => {\r\n          if (action === \"cancel\") {\r\n            return;\r\n          }\r\n          let userId = this.$store.getters.userId;\r\n          if (!userId) {\r\n            this.$store.commit(\"SET_REDIRECTPARAMS\", {\r\n              goodsId: this.$route.query.goodsId,\r\n              relevanceId: this.$route.query.relevanceId,\r\n              resource: this.$route.query.resource,\r\n              resourceType: this.$route.query.resourceType,\r\n            });\r\n            this.$router.push({\r\n              path: \"/login\",\r\n              query: {\r\n                redirectPath: \"/onlineReading\",\r\n              },\r\n            });\r\n          } else {\r\n            //判断是否购买该商品\r\n            this.payType = this.$route.query.payType\r\n              ? this.$route.query.payType\r\n              : \"goods\";\r\n            checkIsBuy({\r\n              relevanceId: this.goodsId,\r\n              type: this.payType,\r\n            }).then((res) => {\r\n              console.log(\"是否已购买响应\", res);\r\n              if (res.data === \"2\") {\r\n                this.$message.error(\"数据异常\");\r\n                return;\r\n              }\r\n              if (res.data === \"1\") {\r\n                this.$router.push({\r\n                  path: \"/submitOrder/index\",\r\n                  query: {\r\n                    id: this.$route.query.goodsId,\r\n                    from: \"bookstore\",\r\n                  },\r\n                });\r\n              } else {\r\n                this.$message(\"该商品已购买无需重复购买\");\r\n              }\r\n            });\r\n          }\r\n        },\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.audio_box_s {\r\n  float: left;\r\n  width: calc(100% - 340px);\r\n  min-height: 95vh;\r\n  position: relative;\r\n  background: #fff;\r\n}\r\n\r\n.audio_box {\r\n  width: 1400px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.audio_con {\r\n  width: calc(100% - 700px);\r\n  margin: 30px auto;\r\n  background: #fff;\r\n}\r\n\r\n.audio_con .video-player {\r\n  height: 30px;\r\n  position: relative;\r\n  padding: 0;\r\n}\r\n\r\n.audio_con ::v-deep .video-js {\r\n  height: 30px;\r\n  padding: 0;\r\n}\r\n\r\n.audio_con .vjs-tech {\r\n  height: 30px;\r\n  padding: 0;\r\n}\r\n\r\n.audio_con ::v-deep .video-js .vjs-tech {\r\n  display: none;\r\n}\r\n\r\n.audio_con .vjs-control-bar {\r\n  height: 30px;\r\n  padding: 0;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n}\r\n\r\n.audio_con ::v-deep .vjs-control-bar {\r\n  opacity: 1 !important;\r\n  display: flex !important;\r\n}\r\n\r\n.audio_con ::v-deep .vjs-big-play-button {\r\n  display: none;\r\n}\r\n\r\n/* .audio_con::v-deep.vjs-play-control {\r\n\t\tdisplay: none;\r\n\t} */\r\n\r\n.read_leftt1_img {\r\n  float: left;\r\n  width: 80px;\r\n  height: 80px;\r\n  border-radius: 6px;\r\n  border: 1px solid #f2f2f2;\r\n  background: #fff;\r\n}\r\n.audiotitle {\r\n  margin-top: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.audio_box_l {\r\n  position: relative;\r\n}\r\n\r\n.audio_box_l_ico {\r\n  position: absolute;\r\n  left: 27px;\r\n  top: 27px;\r\n  z-index: 10;\r\n  color: #ddd;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n}\r\n\r\n.audio_box_l_ico2 {\r\n  position: absolute;\r\n  left: 27px;\r\n  top: 27px;\r\n  z-index: 10;\r\n  color: #ddd;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n}\r\n\r\n.close_ico {\r\n  position: absolute;\r\n  right: 10px;\r\n  top: 10px;\r\n  color: #fff;\r\n  cursor: pointer;\r\n}\r\n.img_box {\r\n  width: 20px;\r\n  height: 20px;\r\n  background: #666666;\r\n}\r\n.audiotitlex {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-items: center;\r\n  margin: 5px 15px;\r\n  border-bottom: 1px solid #f2f2f2;\r\n  padding: 5px;\r\n}\r\n.read_leftt1_imgx {\r\n  width: 200px;\r\n  margin: 0 auto;\r\n}\r\n.image_box_row {\r\n  width: 200px;\r\n  margin: 200px auto 0 auto;\r\n}\r\n.fileName_box {\r\n  margin-left: 10px;\r\n  font-size: 14px;\r\n  font-family: PingFang SC;\r\n  font-weight: 400;\r\n  color: #666666;\r\n  line-height: 26px;\r\n}\r\n._box {\r\n  width: 100%;\r\n  margin: 0 auto;\r\n}\r\n.top {\r\n  margin-top: 30px;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./audioread.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./audioread.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./audioread.vue?vue&type=template&id=0941c5e9&scoped=true&\"\nimport script from \"./audioread.vue?vue&type=script&lang=js&\"\nexport * from \"./audioread.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audioread.vue?vue&type=style&index=0&id=0941c5e9&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0941c5e9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"video-content\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"video_row\"},[_c('div',{staticClass:\"buttn-box\"},[_c('div',{staticClass:\"ply-btn\",on:{\"click\":function($event){return _vm.play()}}},[_c('img',{attrs:{\"src\":require('../../../../assets/icon/' +\n              (!_vm.playState ? 'play.png' : 'player.png')),\"alt\":\"\"}})])]),_c('div',{staticClass:\"slider\"},[_c('div',{staticClass:\"time-left\"},[_vm._v(\" \"+_vm._s(_vm.getTime(Math.round(_vm.value)))+\" \")]),_c('van-slider',{attrs:{\"bar-height\":\"6\",\"active-color\":\"#479bd8\",\"inactive-color\":\"#999999\",\"button-size\":\"18\",\"max\":_vm.totalTime},on:{\"change\":_vm.onChange},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(_vm.getTime(Math.round(_vm.totalTime)))+\" \")]),_c('img',{staticClass:\"img_box\",attrs:{\"src\":require(\"@/assets/icon/shengyin.png\")}}),_c('div',{staticClass:\"Sound\"},[_c('van-slider',{attrs:{\"bar-height\":\"6\",\"active-color\":\"#479bd8\",\"inactive-color\":\"#999999\",\"button-size\":\"18\",\"max\":_vm.unm},on:{\"change\":_vm.changeSound},model:{value:(_vm.sound),callback:function ($$v) {_vm.sound=$$v},expression:\"sound\"}})],1)],1)]),_c('audio',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],ref:\"videoPlayer\",attrs:{\"src\":_vm.url,\"controls\":\"controls\"},on:{\"play\":function($event){return _vm.onPlayerPlay($event)},\"timeupdate\":function($event){return _vm.onPlayerTimeupdate($event)},\"ended\":_vm.onPlayerEnded}})])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"video-content\">\r\n    <div class=\"title\">{{ title }}</div>\r\n    <div class=\"video_row\">\r\n      <div class=\"buttn-box\">\r\n        <div class=\"ply-btn\" @click=\"play()\">\r\n          <img\r\n            :src=\"\r\n              require('../../../../assets/icon/' +\r\n                (!playState ? 'play.png' : 'player.png'))\r\n            \"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div class=\"slider\">\r\n        <div class=\"time-left\">\r\n          {{ getTime(Math.round(value)) }}\r\n        </div>\r\n        <van-slider\r\n          v-model=\"value\"\r\n          bar-height=\"6\"\r\n          active-color=\"#479bd8\"\r\n          inactive-color=\"#999999\"\r\n          button-size=\"18\"\r\n          @change=\"onChange\"\r\n          :max=\"totalTime\"\r\n        />\r\n        <div class=\"time\">\r\n          {{ getTime(Math.round(totalTime)) }}\r\n        </div>\r\n        <img class=\"img_box\" src=\"@/assets/icon/shengyin.png\" />\r\n        <div class=\"Sound\">\r\n          <van-slider\r\n            v-model=\"sound\"\r\n            bar-height=\"6\"\r\n            active-color=\"#479bd8\"\r\n            inactive-color=\"#999999\"\r\n            button-size=\"18\"\r\n            @change=\"changeSound\"\r\n            :max=\"unm\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <audio\r\n      v-show=\"false\"\r\n      :src=\"url\"\r\n      controls=\"controls\"\r\n      ref=\"videoPlayer\"\r\n      @play=\"onPlayerPlay($event)\"\r\n      @timeupdate=\"onPlayerTimeupdate($event)\"\r\n      @ended=\"onPlayerEnded\"\r\n    ></audio>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { videoPlayer } from \"vue-video-player\";\r\nimport \"video.js/dist/video-js.css\";\r\nexport default {\r\n  components: { videoPlayer },\r\n  data() {\r\n    return {\r\n      unm: 100,\r\n      sound: 50,\r\n      playerOptions: {\r\n        playbackRates: [0.7, 1.0, 1.5, 2.0], // 播放速度\r\n        autoplay: false, // 如果true,浏览器准备好时开始回放。\r\n        muted: false, // 默认情况下将会消除任何音频。\r\n        loop: false, // 导致视频一结束就重新开始。\r\n        preload: \"auto\", // 建议浏览器在<video>加载元素后是否应该开始下载视频数据。auto浏览器选择最佳行为,立即开始加载视频（如果浏览器支持）\r\n        language: \"zh-CN\",\r\n        aspectRatio: \"16:9\", // 将播放器置于流畅模式，并在计算播放器的动态大小时使用该值。值应该代表一个比例 - 用冒号分隔的两个数字（例如\"16:9\"或\"4:3\"）\r\n        fluid: true, // 当 true 时，Video.js player 将拥有流体大小。换句话说，它将按比例缩放以适应其容器。\r\n        sources: [\r\n          {\r\n            src: this.url, // 路径\r\n            type: \"audio/mp3\", // 类型\r\n          },\r\n        ],\r\n        poster: \"\", // 封面地址\r\n        notSupportedMessage: \"此视频暂无法播放，请稍后再试\", // 允许覆盖 Video.js 无法播放媒体源时显示的默认信息。\r\n        controlBar: {\r\n          timeDivider: false, // 时间分割线\r\n          durationDisplay: false, // 总时间\r\n          remainingTimeDisplay: false, // 剩余播放时间\r\n          progressControl: false, // 进度条\r\n          fullscreenToggle: false, // 全屏按钮\r\n        },\r\n      },\r\n      playState: false,\r\n      value: 0,\r\n      totalTime: 0,\r\n      player: null,\r\n      duration: 0,\r\n    };\r\n  },\r\n  props: {\r\n    url: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    title: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n    remark: {\r\n      type: String,\r\n      default: \"\",\r\n    },\r\n  },\r\n  watch: {\r\n    url: {\r\n      handler() {\r\n        this.value = 0;\r\n      },\r\n    },\r\n  },\r\n  mounted() {\r\n    var musicDom = this.$refs.videoPlayer;\r\n    let that = this;\r\n    musicDom.onloadedmetadata = function () {\r\n      that.totalTime = musicDom.duration;\r\n    };\r\n  },\r\n  methods: {\r\n    onPlayerPlay(e) {},\r\n    play() {\r\n      if (this.playState) {\r\n        this.playState = false;\r\n        this.$refs.videoPlayer.pause();\r\n      } else {\r\n        this.playState = true;\r\n        this.$refs.videoPlayer.play();\r\n      }\r\n    },\r\n\r\n    // 拖动事件\r\n    onChange(e) {\r\n      let number = e;\r\n      this.$refs.videoPlayer.currentTime = number;\r\n    },\r\n    // 改变音量\r\n    changeSound(val) {\r\n      let audio = this.$refs.videoPlayer;\r\n      audio.volume = val / 100;\r\n    },\r\n    onPlayerTimeupdate(e) {\r\n      this.value += 0.25;\r\n    },\r\n    onPlayerEnded() {\r\n      this.playState = false;\r\n      this.value = 0;\r\n    },\r\n\r\n    getTime(time) {\r\n      let m = parseInt(time / 60);\r\n      let s = time % 60;\r\n      let date = (m > 9 ? m : \"0\" + m) + \":\" + (s > 9 ? s : \"0\" + s);\r\n      return date;\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\ndiv {\r\n  box-sizing: border-box;\r\n}\r\n.video-content {\r\n  // display: flex;\r\n  // flex-direction: column;\r\n  margin: 0 auto;\r\n  padding: 0 14px;\r\n  width: 1000px;\r\n  .image-bg {\r\n    padding: 100px 0 30px 0;\r\n    text-align: center;\r\n    width: 100%;\r\n    img {\r\n      width: 60%;\r\n      // box-shadow: 0px 3px 8px 2px rgba(0, 0, 0, 0.5);\r\n    }\r\n  }\r\n  .title {\r\n    width: 100%;\r\n    padding-bottom: 20px;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    font-weight: 600;\r\n    color: #333;\r\n  }\r\n  .abstract {\r\n    padding: 20px 14px 8px 0px;\r\n    span {\r\n      padding: 8px 8px;\r\n      font-size: 18px;\r\n      font-weight: 600;\r\n      color: #333;\r\n      background: linear-gradient(\r\n        to top,\r\n        rgb(212, 234, 248) 0%,\r\n        rgb(212, 234, 248) 50%,\r\n        white 51%,\r\n        white 100%\r\n      );\r\n    }\r\n  }\r\n  .remark {\r\n    margin-top: 10px;\r\n    padding: 0 14px 10px 6px;\r\n    width: 100%;\r\n    height: calc(100% - 550px);\r\n    overflow: auto;\r\n    font-size: 16px;\r\n    color: #666;\r\n  }\r\n  .slider {\r\n    display: flex;\r\n    align-items: center;\r\n    width: 100%;\r\n    // padding-top: 20px;\r\n    .time {\r\n      text-align: right;\r\n      width: 66px;\r\n    }\r\n    .time-left {\r\n      text-align: left;\r\n      width: 70px;\r\n    }\r\n  }\r\n  .buttn-box {\r\n    display: flex;\r\n    justify-content: center;\r\n    width: 100px;\r\n    // padding-top: 20px;\r\n    .ply-btn {\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 50%;\r\n      background: linear-gradient(90deg, #2e9adb 0%, #77c1ee 100%);\r\n      cursor: pointer;\r\n      img {\r\n        width: 14px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.video_row {\r\n  display: flex;\r\n  flex-direction: row;\r\n  align-content: center;\r\n  justify-content: space-between;\r\n}\r\n.Sound {\r\n  width: 100px;\r\n  margin-left: 10px;\r\n}\r\n.img_box {\r\n  width: 15px;\r\n  height: 15px;\r\n  margin-left: 20px;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./audioPlay1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./audioPlay1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./audioPlay1.vue?vue&type=template&id=196243f8&scoped=true&\"\nimport script from \"./audioPlay1.vue?vue&type=script&lang=js&\"\nexport * from \"./audioPlay1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./audioPlay1.vue?vue&type=style&index=0&id=196243f8&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"196243f8\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","_m","_v","_s","fileName","attrs","select_index","ref","goodsFilePath","staticRenderFns","require","components","videoPlayer","audioPlay","data","goodsFileId","undefined","goodsId","$route","query","filesId","relevanceId","resource","resourceType","teachInstId","readdefault","loading","play","setInterval2","TimeParameter","props","String","created","destroyed","closeTime","methods","selectTimeParameter","then","res","setInterval","updateOcDownloadReading","clearInterval","tabbook","item","$refs","audio","onPlayerEnded","$loading","lock","sourceName","selectFileLinkAndReadingLocation","fileType","close","buys","payType","checkIsBuy","type","hasPermission","filePath","sourceStatus","Trial","checkIsBuys","$alert","confirmButtonText","callback","action","userId","$store","getters","console","log","$router","push","path","id","from","$message","error","commit","redirectPath","component","title","on","$event","playState","getTime","Math","round","value","totalTime","onChange","model","$$v","expression","unm","changeSound","sound","directives","name","rawName","url","onPlayerPlay","onPlayerTimeupdate","playerOptions","playbackRates","autoplay","muted","loop","preload","language","aspectRatio","fluid","sources","src","poster","notSupportedMessage","controlBar","timeDivider","durationDisplay","remainingTimeDisplay","progressControl","fullscreenToggle","player","duration","default","remark","watch","handler","mounted","musicDom","that","onloadedmetadata","e","pause","number","currentTime","val","volume","time","m","parseInt","s","date"],"sourceRoot":""}