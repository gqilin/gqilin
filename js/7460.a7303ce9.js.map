{"version":3,"file":"js/7460.a7303ce9.js","mappings":"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","sources":["webpack://vue3_test/./src/views/user/integrate/index.vue","webpack://vue3_test/src/views/user/integrate/index.vue","webpack://vue3_test/./src/views/user/integrate/index.vue?0f66","webpack://vue3_test/./src/views/user/integrate/index.vue?7029","webpack://vue3_test/./src/api/user/order.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"integrate\"},[_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeName),callback:function ($$v) {_vm.activeName=$$v},expression:\"activeName\"}},[_c('el-tab-pane',{attrs:{\"label\":\"全部\",\"name\":\"first\"}}),_c('el-tab-pane',{attrs:{\"label\":\"收入\",\"name\":\"second\"}}),_c('el-tab-pane',{attrs:{\"label\":\"支出\",\"name\":\"third\"}})],1),_c('div',{staticClass:\"price\"},[_c('i',{staticClass:\"el-icon-coin\"}),_vm._v(\" 当前共有积分：\"),_c('span',{staticStyle:{\"color\":\"#ff5353\"}},[_vm._v(_vm._s(_vm.countIntegral || \"0\"))])]),_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"integrate_row\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.source))]),(item.orders)?_c('div',{staticClass:\"text\"},[_vm._v(\"订单号\"+_vm._s(item.orders))]):_vm._e()]),_c('div',{staticClass:\"box\"},[(item.withdraw == '1')?_c('div',{staticClass:\"red\"},[_vm._v(\"+\"+_vm._s(item.integral))]):_vm._e(),(item.withdraw == '2')?_c('div',{staticClass:\"title\"},[_vm._v(\" -\"+_vm._s(item.integral)+\" \")]):_vm._e(),_c('div',{staticClass:\"black\"},[_vm._v(_vm._s(_vm.parseTime(item.integralTime)))])])])}),(_vm.total == 0)?_c('div',{staticClass:\"none\"},[_vm._v(\"暂无数据\")]):_vm._e(),(_vm.total > 0)?_c('div',{staticClass:\"pagination-box\"},[_c('el-pagination',{staticClass:\"ou-pagination\",attrs:{\"background\":\"\",\"current-page\":_vm.queryParams.pageNum,\"page-sizes\":[10, 20, 30, 40, 50],\"page-size\":_vm.queryParams.pageSize,\"layout\":\"total, prev, pager, next, sizes, jumper, slot\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}},[_c('el-button',{staticClass:\"ou-page-go\"},[_vm._v(\"GO\")])],1)],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"integrate\">\r\n    <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\r\n      <el-tab-pane label=\"全部\" name=\"first\"></el-tab-pane>\r\n      <el-tab-pane label=\"收入\" name=\"second\"></el-tab-pane>\r\n      <el-tab-pane label=\"支出\" name=\"third\"></el-tab-pane>\r\n    </el-tabs>\r\n    <div class=\"price\">\r\n      <i class=\"el-icon-coin\"></i> 当前共有积分：<span style=\"color: #ff5353\">{{\r\n        countIntegral || \"0\"\r\n      }}</span>\r\n    </div>\r\n    <div class=\"integrate_row\" v-for=\"(item, index) in list\" :key=\"index\">\r\n      <div class=\"box\">\r\n        <div class=\"title\">{{ item.source }}</div>\r\n        <div class=\"text\" v-if=\"item.orders\">订单号{{ item.orders }}</div>\r\n      </div>\r\n      <div class=\"box\">\r\n        <div class=\"red\" v-if=\"item.withdraw == '1'\">+{{ item.integral }}</div>\r\n        <div class=\"title\" v-if=\"item.withdraw == '2'\">\r\n          -{{ item.integral }}\r\n        </div>\r\n        <div class=\"black\">{{ parseTime(item.integralTime) }}</div>\r\n      </div>\r\n    </div>\r\n    <div class=\"none\" v-if=\"total == 0\">暂无数据</div>\r\n    <div class=\"pagination-box\" v-if=\"total > 0\">\r\n      <el-pagination\r\n        class=\"ou-pagination\"\r\n        background\r\n        @size-change=\"handleSizeChange\"\r\n        @current-change=\"handleCurrentChange\"\r\n        :current-page=\"queryParams.pageNum\"\r\n        :page-sizes=\"[10, 20, 30, 40, 50]\"\r\n        :page-size=\"queryParams.pageSize\"\r\n        layout=\"total, prev, pager, next, sizes, jumper, slot\"\r\n        :total=\"total\"\r\n      >\r\n        <el-button class=\"ou-page-go\">GO</el-button>\r\n      </el-pagination>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { Integral, IntegralCount } from \"@/api/user/order\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      total: 1,\r\n      queryParams: {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n        source: \"\",\r\n        orders: \"\",\r\n        integral: \"\",\r\n        integral_time: \"\",\r\n        withdraw: \"1\",\r\n      },\r\n      activeName: \"second\",\r\n      list: [],\r\n      countIntegral: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.Integral();\r\n    this.IntegralCount();\r\n  },\r\n  methods: {\r\n    Integral() {\r\n      Integral(this.queryParams).then((res) => {\r\n        if (res.code == 200) {\r\n          this.list = res.rows;\r\n          this.total = res.total;\r\n        }\r\n      });\r\n    },\r\n    IntegralCount() {\r\n      IntegralCount().then((res) => {\r\n        if (res.code == 200) {\r\n          this.countIntegral = res.data;\r\n        }\r\n      });\r\n    },\r\n    handleSizeChange(val) {\r\n      this.queryParams.pageSize = val;\r\n      this.Integral();\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.queryParams.pageNum = val;\r\n      this.Integral();\r\n    },\r\n    handleClick(tab) {\r\n      this.queryParams.withdraw = tab.index;\r\n      if (tab.index == \"0\") {\r\n        this.queryParams.withdraw = \"\";\r\n      }\r\n      this.Integral();\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n.integrate {\r\n  position: relative;\r\n  padding: 10px 20px;\r\n  .integrate_row {\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-content: center;\r\n    justify-content: space-between;\r\n    border-bottom: 1px solid #f2f2f2;\r\n    padding: 15px;\r\n    .box {\r\n      .title {\r\n        font-size: 14px;\r\n        font-family: PingFang SC;\r\n        font-weight: 400;\r\n        color: #333333;\r\n      }\r\n      .text {\r\n        margin-top: 10px;\r\n        font-size: 14px;\r\n        font-family: PingFang SC;\r\n        font-weight: 400;\r\n        color: #999999;\r\n      }\r\n      .red {\r\n        font-size: 14px;\r\n        font-family: PingFang SC;\r\n        font-weight: 400;\r\n        color: #ff5353;\r\n      }\r\n      .black {\r\n        margin-top: 10px;\r\n        font-size: 14px;\r\n        font-family: PingFang SC;\r\n        font-weight: 400;\r\n        color: #333333;\r\n      }\r\n    }\r\n  }\r\n  .integrate_row:last-child {\r\n    border-bottom: 1px solid #fff;\r\n  }\r\n  .pagination-box {\r\n    text-align: right;\r\n    margin: 25px 0;\r\n  }\r\n  .price {\r\n    position: absolute;\r\n    right: 25px;\r\n    top: 20px;\r\n  }\r\n}\r\n.none {\r\n  min-height: 300px;\r\n  width: 100%;\r\n  text-align: center;\r\n  line-height: 300px;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=31d2ff01&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=31d2ff01&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"31d2ff01\",\n  null\n  \n)\n\nexport default component.exports","import request, { post, get } from '@/utils/request'\r\nimport { ouchnCustom } from '../../service'\r\n\r\nconst urlGetUserOrderList = ouchnCustom + '/web/api/ocOrder/orderList'\r\nconst urlCreateOrder = ouchnCustom + '/web/api/ocOrder/addOcOrder'\r\nconst urlCreateSubjectOrder = ouchnCustom + '/web/api/ocOrder/addOcOrderSubject'\r\nconst urlGetOrderDetail = ouchnCustom + '/web/api/ocOrder/orderChildList'\r\nconst urlDeleteOrderRecordById = ouchnCustom + '/web/api/ocOrder/deleteById'\r\nconst urlGetTotalGroup = ouchnCustom + '/web/api/ocOrder/orderCountByStatus'\r\nconst urlCancelOrder = ouchnCustom + '/web/api/ocOrder/updateOrderStatus'\r\nconst urlAfterPay = ouchnCustom + '/web/api/ocOrder/addOrderInMyResource'\r\nconst urlCheckIsCreated = ouchnCustom + '/web/api/ocOrder/orderCompareByUserId'\r\nconst IntegralRecord = ouchnCustom + '/web/IntegralRecord/list'\r\nconst IntegralRecordCount = ouchnCustom + '/web/IntegralRecord/count'\r\n\r\n// 获取用户订单列表\r\nexport const apiGetUserOrderList = (params) => get(urlGetUserOrderList, params)\r\n\r\n// 创建订单\r\nexport const apiCreateOrder = (data) => post(urlCreateOrder, data)\r\n\r\n// 创建专题订单\r\nexport const apiCreateSubjectOrder = (data) => post(urlCreateSubjectOrder, data)\r\n\r\n// 取消订单\r\n// export const apiCancelOrder = (data) => post(urlCancelOrder, data)\r\nexport const apiCancelOrder = (data) => post(`${urlCancelOrder}?id=${data.id}`)\r\n\r\n// 订单支付成功后修改订单状态\r\nexport const apiAfterPay = (data) => post(`${urlAfterPay}?id=${data.id}`)\r\n\r\n// 获取订单明细列表\r\nexport const apiGetOrderDetail = (params) => get(urlGetOrderDetail, params)\r\n\r\n// 获取用户订单各状态下的total数\r\nexport const apiGetTotalGroup = (params) => get(urlGetTotalGroup, params)\r\n\r\n// 验证该商品是否已提交过订单\r\nexport const apiCheckIsCreated = (params) => get(urlCheckIsCreated, params)\r\n\r\n// 根据主键删除订单记录\r\nexport const apiDeleteOrderRecordById = (params) => {\r\n  return request({\r\n    url: urlDeleteOrderRecordById,\r\n    method: 'delete',\r\n    params,\r\n  })\r\n}\r\n// 积分\r\nexport const Integral = (params) => {\r\n  return request({\r\n    url: IntegralRecord,\r\n    method: 'get',\r\n    params,\r\n  })\r\n}\r\n// 总计\r\nexport const IntegralCount = (params) => {\r\n  return request({\r\n    url: IntegralRecordCount,\r\n    method: 'get',\r\n    params,\r\n  })\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","on","handleClick","model","value","activeName","callback","$$v","expression","attrs","_v","staticStyle","_s","countIntegral","_l","list","item","index","key","source","orders","_e","withdraw","integral","parseTime","integralTime","total","queryParams","pageNum","pageSize","handleSizeChange","handleCurrentChange","staticRenderFns","data","integral_time","created","Integral","IntegralCount","methods","then","res","code","rows","val","tab","component","urlGetUserOrderList","ouchnCustom","urlCreateOrder","urlCreateSubjectOrder","urlDeleteOrderRecordById","urlGetTotalGroup","urlCancelOrder","urlAfterPay","IntegralRecord","IntegralRecordCount","apiGetUserOrderList","params","get","apiCreateOrder","post","apiCreateSubjectOrder","apiCancelOrder","id","apiAfterPay","apiGetTotalGroup","apiDeleteOrderRecordById","request","url","method"],"sourceRoot":""}