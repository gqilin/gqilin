"use strict";(self["webpackChunkvue3_test"]=self["webpackChunkvue3_test"]||[]).push([[7376],{77376:function(t,e,a){a.r(e),a.d(e,{default:function(){return B}});var r=function(){var t=this,e=t._self._c;return e("div",["image"==t.fileType?e("imageBox",{attrs:{url:t.data.link,title:t.data.name,remark:t.data.remark}}):t._e(),"video"==t.fileType?e("videoPlay",{attrs:{url:t.data.link,title:t.data.name,remark:t.data.remark}}):t._e(),"audio"==t.fileType?e("audioPlay",{attrs:{url:t.data.link,title:t.data.name,remark:t.data.remark}}):t._e(),"pdf"==t.fileType?e("pdfRead",{attrs:{url:t.data.link,title:t.data.name,remark:t.data.remark}}):t._e()],1)},i=[],n=a(35220),s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("div",{staticClass:"title"},[e("div",{staticClass:"test"},[t._v(" "+t._s(t.title)+" ")])]),e("img",{attrs:{src:t.url,alt:""},on:{click:t.showIgm}}),t._m(0),e("div",{staticClass:"remark"},[t._v(t._s(t.remark?t.remark:"暂无"))])])},o=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"abstract"},[e("span",[t._v("简介")])])}],l=a(80119),u={data(){return{}},props:{url:{type:String,default:""},title:{type:String,default:""},remark:{type:String,default:""}},methods:{showIgm(){(0,l.Z)([this.url])}}},d=u,c=a(1001),p=(0,c.Z)(d,s,o,!1,null,"efd554d4",null),m=p.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-content"},[e("div",{staticClass:"title"},[e("div",{staticClass:"test"},[t._v(" "+t._s(t.title)+" ")])]),e("video-player",{staticClass:"video-player vjs-custom-skin vjs-big-play-centered",attrs:{options:t.playerOptions}}),t._m(0),e("div",{staticClass:"remark"},[t._v(t._s(t.remark?t.remark:"暂无"))])],1)},h=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"abstract"},[e("span",[t._v("简介")])])}],v=a(86264),y={components:{videoPlayer:v.videoPlayer},data(){return{playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{src:this.url,type:"video/mp4"}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!0,progressControl:!0,fullscreenToggle:!0}}}},props:{url:{type:String,default:""},title:{type:String,default:""},remark:{type:String,default:""}}},g=y,k=(0,c.Z)(g,f,h,!1,null,"fbf0773e",null),_=k.exports,P=function(){var t=this,e=t._self._c;return e("div",{staticClass:"video-content"},[t._m(0),e("div",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"slider"},[e("div",{staticClass:"time-left"},[t._v(" "+t._s(t.getTime(Math.round(t.value)))+" ")]),e("van-slider",{attrs:{"bar-height":"6","active-color":"#479bd8","inactive-color":"#999999","button-size":"18",max:t.totalTime},on:{change:t.onChange},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),e("div",{staticClass:"time"},[t._v(" "+t._s(t.getTime(Math.round(t.totalTime)))+" ")])],1),e("div",{staticClass:"buttn-box"},[e("div",{staticClass:"ply-btn",on:{click:function(e){return t.play()}}},[e("img",{attrs:{src:a(74449)("./"+(t.playState?"player.png":"play.png")),alt:""}})])]),t._m(1),e("div",{staticClass:"remark"},[t._v(t._s(t.remark?t.remark:"暂无"))]),e("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"videoPlayer",attrs:{src:t.url,controls:"controls"},on:{play:function(e){return t.onPlayerPlay(e)},timeupdate:function(e){return t.onPlayerTimeupdate(e)},ended:t.onPlayerEnded}})])},C=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-bg"},[e("img",{attrs:{src:a(88708),alt:""}})])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"abstract"},[e("span",[t._v("简介")])])}],w={components:{videoPlayer:v.videoPlayer},data(){return{playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!1,muted:!1,loop:!1,preload:"auto",language:"zh-CN",aspectRatio:"16:9",fluid:!0,sources:[{src:this.url,type:"audio/mp3"}],poster:"",notSupportedMessage:"此视频暂无法播放，请稍后再试",controlBar:{timeDivider:!1,durationDisplay:!1,remainingTimeDisplay:!1,progressControl:!1,fullscreenToggle:!1}},playState:!1,value:0,totalTime:0,player:null,duration:0}},props:{url:{type:String,default:""},title:{type:String,default:""},remark:{type:String,default:""}},mounted(){var t=this.$refs.videoPlayer;let e=this;t.onloadedmetadata=function(){e.totalTime=t.duration}},methods:{onPlayerPlay(t){console.log(t)},play(){this.playState?(this.playState=!1,this.$refs.videoPlayer.pause()):(this.playState=!0,this.$refs.videoPlayer.play())},onChange(t){let e=t;this.$refs.videoPlayer.currentTime=e},onPlayerTimeupdate(t){this.value+=.25},onPlayerEnded(){this.playState=!1,this.value=0},getTime(t){let e=parseInt(t/60),a=t%60,r=(e>9?e:"0"+e)+":"+(a>9?a:"0"+a);return r}}},T=w,b=(0,c.Z)(T,P,C,!1,null,"9eff20fe",null),S=b.exports,Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content"},[e("iframe",{staticStyle:{width:"100%",height:"100vh"},attrs:{src:t.src}})])},I=[],x=a(7742),V={data(){return{imageLIst:[],value:0,index:1,show:!1,show2:!1,src:""}},props:{url:{type:String,default:""},title:{type:String,default:""},remark:{type:String,default:""}},mounted(){this.src="/static/html/web/viewer.html?file="+this.url},methods:{getImageList(){(0,x.Rd)({filePath:this.url}).then((t=>{this.imageLIst=t.data}))},showImg(t){(0,l.Z)(["http://"+t])},onChange(t){let e=parseInt(t/100*this.imageLIst.length);this.$refs.Swipe.swipeTo(e)},swipeChange(t){this.index=t+1},imgClick(t){this.show2=!1,this.$refs.Swipe.swipeTo(t)}}},R=V,$=(0,c.Z)(R,Z,I,!1,null,"50983871",null),M=$.exports,N={components:{imageBox:m,videoPlay:_,audioPlay:S,pdfRead:M},data(){return{fileType:"",data:{}}},created(){if(this.$route.query.codeId)this.getSource();else{let t={link:this.$route.query.filePath,name:this.$route.query.title,remark:this.$route.query.remark};this.resourceType(t)}},methods:{getSource(){(0,n.Lr)(this.$route.query.codeId).then((t=>{this.resourceType(t.data)}))},resourceType(t){let e=t.link.split("?")[0].substr(-3).toUpperCase();this.data=t,"MP3"==e?(document.title="资源详情",this.fileType="audio"):"MP4"==e?(document.title="资源详情",this.fileType="video"):"PDF"==e?(document.title="资源详情",this.fileType="pdf"):"PNG"==e||"JPG"==e||"PEG"==e||"GIF"==e?(document.title="资源详情",this.fileType="image"):window.location.replace(t.link)}}},L=N,D=(0,c.Z)(L,r,i,!1,null,null,null),B=D.exports},35220:function(t,e,a){a.d(e,{Bi:function(){return u},IM:function(){return c},Lr:function(){return h},Nl:function(){return d},Nu:function(){return n},T8:function(){return o},V$:function(){return l},Vx:function(){return s},j2:function(){return m},mz:function(){return y},n3:function(){return f},oF:function(){return v},sS:function(){return p}});var r=a(84471),i=a(37182);function n(t){return(0,r.ZP)({url:i.V+"/web/api/note/addNote",method:"post",data:t,header:{token:!0}})}function s(t){return(0,r.ZP)({url:i.V+"/web/api/note/updateNote",method:"post",data:t,header:{token:!0}})}function o(t){return(0,r.ZP)({url:i.V+"/web/api/note/deleteNote",method:"post",params:{noteId:t},header:{token:!0}})}function l(t){return(0,r.ZP)({url:i.V+"/web/api/note/getNoteInfo",method:"get",params:{filesId:t},header:{token:!0}})}function u(t){return(0,r.ZP)({url:i.V+"/web/read/selectFileLinkAndReadingLocation",method:"post",data:t,header:{token:!0}})}function d(t){return(0,r.ZP)({url:i.V+"/web/read/selectTimeParameter",method:"get",params:t,header:{token:!0}})}function c(t){return(0,r.ZP)({url:i.V+"/web/read/updateOcDownloadReading",method:"post",data:t,header:{token:!0}})}function p(t){return(0,r.ZP)({url:i.V+"/web/read/updateOcReadSchedule",method:"post",data:t,header:{token:!0}})}function m(t){return(0,r.ZP)({url:i.V+"/device/api/bookMark/addBookMark",method:"post",data:t,header:{token:!0}})}function f(t){return(0,r.ZP)({url:i.V+"/device/api/bookMark/selectBookMarkList",method:"get",params:t,header:{token:!0}})}function h(t){return(0,r.ZP)({url:i.V+"/getSource?codeId="+t,method:"get"})}function v(t){return(0,r.ZP)({url:i.V+"/getOnlineCodeResource/"+t,method:"get"})}function y(t,e,a,n){return(0,r.ZP)({url:i.V+"/onlineResourceId/"+t+"?remoteAddr="+e+"&userAgent="+a+"&userName="+n,method:"get"})}},88708:function(t,e,a){t.exports=a.p+"img/default-audio.cf680c49.png"}}]);
//# sourceMappingURL=7376.24379c02.js.map