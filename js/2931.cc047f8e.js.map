{"version":3,"file":"js/2931.cc047f8e.js","mappings":"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","sources":["webpack://vue3_test/./src/components/integralBox.vue","webpack://vue3_test/src/components/integralBox.vue","webpack://vue3_test/./src/components/integralBox.vue?caa8","webpack://vue3_test/./src/components/integralBox.vue?d669","webpack://vue3_test/./src/views/bookstore/answer/examination.vue","webpack://vue3_test/src/views/bookstore/answer/examination.vue","webpack://vue3_test/./src/views/bookstore/answer/examination.vue?d7c9","webpack://vue3_test/./src/views/bookstore/answer/examination.vue?b54e","webpack://vue3_test/./src/api/index/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.integralBox)?_c('div',{directives:[{name:\"drag\",rawName:\"v-drag\"}],staticClass:\"integral-box isSelected\"},[_c('div',{staticClass:\"progress-box\",style:({ width: _vm.width + 'px' })}),_c('img',{staticClass:\"image\",attrs:{\"src\":require('@/assets/images/integral_icon.png'),\"mode\":\"widthFix\"}}),_c('span',{staticClass:\"text\"},[_vm._v(\"+\"+_vm._s(_vm.integral)+\"积分\")])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div v-if=\"integralBox\" class=\"integral-box isSelected\" v-drag>\r\n    <div :style=\"{ width: width + 'px' }\" class=\"progress-box\"></div>\r\n    <img\r\n      class=\"image\"\r\n      :src=\"require('@/assets/images/integral_icon.png')\"\r\n      mode=\"widthFix\"\r\n    />\r\n    <span class=\"text\">+{{ integral }}积分</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { InsertIntegrals, GetInsertNumber } from \"@/api/index/index.js\";\r\nexport default {\r\n  name: \"integralBox\",\r\n  props: {\r\n    // width: {\r\n    //   type: Number,\r\n    //   default: 0,\r\n    // },\r\n  },\r\n  data() {\r\n    return {\r\n      width: 0,\r\n      timer: null,\r\n      integral: \"\",\r\n      integralBox: false,\r\n    };\r\n  },\r\n  computed: {},\r\n  mounted() {},\r\n  watch: {\r\n    $route(to, from) {},\r\n  },\r\n  methods: {\r\n    // 判断是否可以增加积分\r\n    isAddIntegral() {\r\n      clearInterval(this.timer);\r\n      // this.width = 0;\r\n      // this.timer = null;\r\n      GetInsertNumber({\r\n        id: 6,\r\n      }).then((res) => {\r\n        if (res.msg == \"继续加\") {\r\n          this.integralBox = true;\r\n          this.integral = res.data.quantity;\r\n          this.timeMeter();\r\n        }\r\n      });\r\n    },\r\n    // 计时器\r\n    timeMeter() {\r\n      // 7.5秒走一次，15分钟加 120rpx\r\n      this.timer = setInterval(() => {\r\n        this.width += 1;\r\n        console.log(this.width);\r\n        if (this.width == 121) {\r\n          InsertIntegrals({\r\n            id: \"6\",\r\n          }).then((res) => {\r\n            this.integralBox = false;\r\n            this.width = 0;\r\n            clearInterval(this.timer);\r\n            this.timer = null;\r\n            if (res.data == true) {\r\n              this.$message.success(\"添加积分成功\");\r\n              this.isAddIntegral();\r\n            } else {\r\n              this.$message.success(\"今天已经领完了，明天再试试吧！\");\r\n            }\r\n          });\r\n        }\r\n      }, 7500);\r\n    },\r\n  },\r\n  destroyed() {\r\n    clearInterval(this.timer);\r\n    this.timer = null;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.integral-box {\r\n  position: absolute;\r\n  top: 110px;\r\n  width: 120px;\r\n  height: 22px;\r\n  border-radius: 11px;\r\n  background-color: #e2e2e2;\r\n  box-shadow: 0px 0px 5px 1px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n.image {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 10;\r\n  width: 22px;\r\n}\r\n\r\n.integral-box .text {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 30px;\r\n  font-size: 8px;\r\n  line-height: 22px;\r\n  font-family: PingFang SC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #777777;\r\n  z-index: 12;\r\n}\r\n\r\n.progress-box {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 6;\r\n  width: 22px;\r\n  height: 22px;\r\n  border-radius: 11px;\r\n  background-color: #f7e3bf;\r\n}\r\n.isSelected {\r\n  -webkit-user-select: none;\r\n  -moz-user-select: none;\r\n  -ms-user-select: none;\r\n  user-select: none;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./integralBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./integralBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./integralBox.vue?vue&type=template&id=88c1595c&scoped=true&\"\nimport script from \"./integralBox.vue?vue&type=script&lang=js&\"\nexport * from \"./integralBox.vue?vue&type=script&lang=js&\"\nimport style0 from \"./integralBox.vue?vue&type=style&index=0&id=88c1595c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"88c1595c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"examination_box\"},[_c('iframe',{staticClass:\"iframe\",attrs:{\"src\":_vm.src,\"frameborder\":\"0\",\"id\":\"iframe\"}}),_c('integralBox',{ref:\"integralBox\",staticClass:\"topLeft\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"examination_box\">\r\n    <iframe :src=\"src\" frameborder=\"0\" class=\"iframe\" id=\"iframe\"></iframe>\r\n    <integralBox class=\"topLeft\" ref=\"integralBox\"></integralBox>\r\n  </div>\r\n</template>\r\n<script>\r\nimport integralBox from \"@/components/integralBox.vue\";\r\nimport { testURL } from \"@/utils/config.js\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      dictType: \"oc_teach_property\",\r\n      activeName: \"material\",\r\n      catalogType: \"law_type\",\r\n      activeIndex: 0,\r\n      src: \"\",\r\n    };\r\n  },\r\n  components: { integralBox },\r\n  watch: {\r\n    //监听\r\n    $route(to, from) {},\r\n  },\r\n  created() {\r\n    this.src =\r\n      testURL +\r\n      \"/answer?testPaperId=\" +\r\n      this.$route.query.testPaperId +\r\n      \"&userId=\" +\r\n      this.$route.query.userId +\r\n      \"&userName=\" +\r\n      this.$route.query.userName +\r\n      \"&params1=\" +\r\n      this.$route.query.goodsId;\r\n  },\r\n  mounted() {\r\n    this.$refs.integralBox.isAddIntegral(); //阅读进度\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n<style scoped lang='scss'>\r\n.examination_box {\r\n  width: 1450px;\r\n  height: 100vh;\r\n  margin: 0 auto;\r\n}\r\n.iframe {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./examination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./examination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./examination.vue?vue&type=template&id=4e13fc61&scoped=true&\"\nimport script from \"./examination.vue?vue&type=script&lang=js&\"\nexport * from \"./examination.vue?vue&type=script&lang=js&\"\nimport style0 from \"./examination.vue?vue&type=style&index=0&id=4e13fc61&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4e13fc61\",\n  null\n  \n)\n\nexport default component.exports","import request from '@/utils/request'\r\nimport { ouchnCustom } from \"@/service\"\r\n\r\n// bannber列表\r\nexport function bannerList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/bannerList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 新书速递列表\r\nexport function goodsList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/goodsList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 好书推荐\r\nexport function goodBookList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/goodBookList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 猜你喜欢-未登录\r\nexport function getGuessFavouriteNoLogin(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/goods/getGuessFavouriteNoLogin',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 猜你喜欢-已登录\r\nexport function getGuessFavouriteForLogin(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/goods/getGuessFavouriteForLogin',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 首页查询热门图书\r\nexport function homePageselHotBookList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/selHotBookList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 特色专题\r\nexport function selSubjectList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/selSubjectList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 首页查询优秀作者\r\nexport function selAuthorList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/selAuthorList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 查询合作机构\r\nexport function selDeptList(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/selDeptList',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 新闻详情\r\nexport function selectNewsById(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/selectNewsById',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 搜索图书\r\nexport function selectBooks(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/serch/selectBooks',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 搜索专题\r\nexport function selectSubjects(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/serch/selectSubjects',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 搜索作者\r\nexport function selectAuthors(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/serch/selectAuthors',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 搜索机构\r\nexport function selectInst(query){\r\n  return request({\r\n    url:ouchnCustom + '/web/serch/selectInst',\r\n    method:'get',\r\n    params: query\r\n  })\r\n}\r\n// 底部导航\r\nexport function TofootNav(type){\r\n  return request({\r\n    url:ouchnCustom + '/web/api/homePage/selectNewsByType?type='+type,\r\n    method:'get',\r\n  })\r\n}\r\n\r\n// 获取考试token\r\nexport function paperGetToken(){\r\n  return request({\r\n    url:ouchnCustom + '/web/paper/getToken',\r\n    method:'get',\r\n  })\r\n}\r\n\r\n//获取活页式教材系统token\r\nexport function looseleafGetToken() {\r\n  return request({\r\n    url: ouchnCustom +'/web/looseleaf/getToken',\r\n    method:'get',\r\n  })\r\n}\r\n\r\n//web查询系统参数配置\r\nexport function getConfigKey() {\r\n  return request({\r\n    url: ouchnCustom +'/web/config/getConfigKey',\r\n    method:'get',\r\n  })\r\n}\r\n// 获取可添加积分的次数\r\nexport function GetInsertNumber(query) {\r\n\treturn request({\r\n\t\turl:  ouchnCustom + '/Integral/insertIntegralsg',\r\n\t\tmethod: 'get',\r\n\t\tparams: query\r\n\t})\r\n}\r\n\r\n// 阅读时添加积分\r\nexport function InsertIntegrals(query) {\r\n\treturn request({\r\n\t\turl:  ouchnCustom + '/Integral/insertIntegrals',\r\n\t\tmethod: 'get',\r\n\t\tparams: query\r\n\t})\r\n}"],"names":["render","_vm","this","_c","_self","integralBox","directives","name","rawName","staticClass","style","width","attrs","require","_v","_s","integral","_e","staticRenderFns","props","data","timer","computed","mounted","watch","$route","to","from","methods","isAddIntegral","clearInterval","GetInsertNumber","id","then","res","msg","quantity","timeMeter","setInterval","console","log","InsertIntegrals","$message","success","destroyed","component","src","ref","dictType","activeName","catalogType","activeIndex","components","created","testURL","query","testPaperId","userId","userName","goodsId","$refs","bannerList","request","url","ouchnCustom","method","params","goodsList","goodBookList","getGuessFavouriteNoLogin","getGuessFavouriteForLogin","homePageselHotBookList","selSubjectList","selAuthorList","selDeptList","selectNewsById","selectBooks","selectSubjects","selectAuthors","selectInst","TofootNav","type","paperGetToken","looseleafGetToken","getConfigKey"],"sourceRoot":""}