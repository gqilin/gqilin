"use strict";(self["webpackChunkvue3_test"]=self["webpackChunkvue3_test"]||[]).push([[1885],{71885:function(t,e,n){n.r(e),n.d(e,{default:function(){return h}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"note_box"},[t._l(t.MyNote,(function(n){return e("div",{staticClass:"note_li"},[e("div",{staticClass:"note_lit"},[t._v(t._s(n.noteContent))]),e("div",{staticClass:"note_lit2"},[e("div",{staticClass:"note_lit2l"},[e("p",[e("i",{staticClass:"el-icon-date"}),t._v(t._s(t._f("filterDate")(n.createTime,"YYYY-MM-DD"))+" ")])]),e("div",{staticClass:"note_lit2r"},[e("p",{on:{click:function(e){return t.updateNote(n)}}},[e("i",{staticClass:"el-icon-edit-outline"}),t._v("修改 ")]),e("p",{on:{click:function(e){return t.removeNote(n.id)}}},[e("i",{staticClass:"el-icon-delete"}),t._v("删除")])])]),e("div",{staticClass:"note_lit3"},[t._v("原文："+t._s(n.originalText))]),e("div",{staticClass:"note_lit4",on:{click:function(e){return t.toread(n)}}},[e("el-image",{staticClass:"note_lit4_img",attrs:{src:n.cover,fit:"contain"}}),e("p",[t._v(t._s(n.soureName))])],1)])})),0==t.total?e("noData"):t._e(),e("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],staticStyle:{float:"right"},attrs:{"current-page":t.queryParams.pageNum,"page-sizes":[10,20,30,40,50],"page-size":t.queryParams.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2)},o=[],i=(n(57658),n(84471)),s=n(37182);function a(t){return(0,i.ZP)({url:s.V+"/web/api/note/listMyNote",method:"get",params:t})}var u=n(7742),c={data(){return{MyNote:[],queryParams:{pageNum:1,pageSize:10},total:0}},watch:{$route(t){this.getList()}},components:{noData:()=>n.e(6770).then(n.bind(n,66770))},created(){this.getList()},methods:{handleClick(){},toDetail(t){this.$router.push({path:"/special/specialDetail",query:{subjectId:t}})},toread(t){let e=this.$router.resolve({path:"/onlineReading",query:{goodsId:t.goodsId,resourceType:"goods",resource:"bookCity",relevanceId:t.goodsId}});window.open(e.href,"_blank")},removeNote(t){this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,u.T8)(t).then((t=>{this.getList(),this.$message({type:"success",message:"删除成功"})}))}))},updateNote(t){var e=JSON.parse(JSON.stringify(t));this.$prompt("请输入笔记内容","提示",{inputValue:e.noteContent,inputType:"textarea",confirmButtonText:"确定",cancelButtonText:"取消",closeOnClickModal:!1,inputValidator:t=>!t||/^\s+$/.test(t)?"请输入笔记内容":t.length>100?"不能超过100字":void 0}).then((({value:t})=>{t=t.trim(),e.noteContent=t,(0,u.Vx)(e).then((t=>{this.$message({type:"success",message:"操作成功"}),this.getList()}))}))},getStaffList(){return this.StaffList=[],getStaffList({pageNumber:1,pageSize:99999}).then((t=>{t.data.list.forEach(((t,e)=>{this.StaffList.push({id:t.id,name:t.staffName})}))}))},getList(){a(this.queryParams).then((t=>{this.MyNote=t.rows,this.total=t.total}))},handleSizeChange(t){this.queryParams.pageSize=t,this.getList()},handleCurrentChange(t){this.queryParams.pageNum=t,this.getList()},handdelete(t){this.$confirm("确认删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{myResourceremove({id:t.id}).then((t=>{this.$message({type:"success",message:"删除成功!"}),this.getList()}))})),console.log(t)}}},l=c,d=n(1001),f=(0,d.Z)(l,r,o,!1,null,null,null),h=f.exports},7742:function(t,e,n){n.d(e,{Bi:function(){return w},Df:function(){return u},EN:function(){return p},IM:function(){return V},Nl:function(){return P},Nu:function(){return d},R4:function(){return N},R9:function(){return b},Rd:function(){return C},T8:function(){return h},Te:function(){return v},V$:function(){return m},Vx:function(){return f},XR:function(){return g},hE:function(){return c},iN:function(){return a},kr:function(){return s},m8:function(){return l},sS:function(){return _},v6:function(){return y},ve:function(){return i}});var r=n(84471),o=n(37182);function i(t){return(0,r.ZP)({url:o.V+"/web/subject/querySubjectList",method:"get",params:t})}function s(t){return(0,r.ZP)({url:o.V+"/web/subject/getSubjectDetails?subjectId="+t,method:"get"})}function a(t){return(0,r.ZP)({url:o.V+"/web/subject/getGoodsBySubjectId",method:"get",params:t})}function u(t){return(0,r.ZP)({url:o.V+"/web/subject/listEvaluate",method:"get",params:t})}function c(t){return(0,r.ZP)({url:o.V+"/web/subject/getRecomSubjectList?subjectId="+t,method:"get"})}function l(t){return(0,r.ZP)({url:o.V+"/web/subject/getRecomGoodsList?subjectId="+t,method:"get"})}function d(t){return(0,r.ZP)({url:o.V+"/web/api/note/addNote",method:"post",data:t})}function f(t){return(0,r.ZP)({url:o.V+"/web/api/note/updateNote",method:"post",data:t})}function h(t){return(0,r.ZP)({url:o.V+"/web/api/note/deleteNote",method:"post",params:{noteId:t}})}function m(t,e){return(0,r.ZP)({url:o.V+"/web/api/note/getNoteInfo",method:"get",params:{filesId:t,type:e}})}function g(t){return(0,r.ZP)({url:o.V+"/web/myResource/selectSubjectBase",method:"get",params:t})}function p(t){return(0,r.ZP)({url:o.V+"/web/myResource/selectSubjectGoodsList",method:"get",params:t})}function b(t){return(0,r.ZP)({url:o.V+"/web/myResource/selectBundleBase",method:"get",params:t})}function v(t){return(0,r.ZP)({url:o.V+"/web/myResource/selectBundleGoodsList",method:"get",params:t})}function w(t){return(0,r.ZP)({url:o.V+"/web/read/selectFileLinkAndReadingLocationV2",method:"post",data:t})}function y(t){return(0,r.ZP)({url:o.V+"/web/read/selectReadInfo",method:"get",params:t})}function P(t){return(0,r.ZP)({url:o.V+"/web/read/selectTimeParameter",method:"get",params:t})}function V(t){return(0,r.ZP)({url:o.V+"/web/read/updateOcDownloadReading",method:"post",data:t})}function _(t){return(0,r.ZP)({url:o.V+"/web/read/updateOcReadSchedule",method:"post",data:t})}function C(t){return(0,r.ZP)({url:o.V+"/getImagePathList",method:"get",params:t})}function N(t){return(0,r.ZP)({url:o.V+"/web/read/getSolicitUserFileLinkAndIsHavingPermissions?goodsId="+t.goodsId+"&goodsFileId="+t.filesId+"&fileType="+t.fileType,method:"get"})}}}]);
//# sourceMappingURL=1885.d29758a9.js.map