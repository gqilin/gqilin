"use strict";(self["webpackChunkvue3_test"]=self["webpackChunkvue3_test"]||[]).push([[2409],{42409:function(e,a,t){t.r(a),t.d(a,{default:function(){return h}});var s=function(){var e=this,a=e._self._c;return a("div",{staticClass:"coagency search_box"},[a("div",{staticClass:"coagency-content"},[a("div",{staticClass:"srarch_t"},[a("div",{staticClass:"serch_l"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(a){e.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"书城",name:"书城"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s("书城"===e.activeName?`书城 ( ${e.total.tstotal} )`:"书城"))])]),a("el-tab-pane",{attrs:{label:"专题",name:"专题"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s("专题"===e.activeName?`专题 ( ${e.total.zttotal} )`:"专题"))])]),a("el-tab-pane",{attrs:{label:"作者",name:"作者"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s("作者"===e.activeName?`作者 ( ${e.total.zztotal} )`:"作者"))])]),a("el-tab-pane",{attrs:{label:"机构",name:"机构"}},[a("span",{attrs:{slot:"label"},slot:"label"},[e._v(e._s("机构"===e.activeName?`机构 ( ${e.total.jgtotal} )`:"机构"))])])],1)],1),a("div",{staticClass:"custom-search"},[a("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.searchName,expression:"searchName",modifiers:{trim:!0}}],staticClass:"custom-input",attrs:{type:"text",placeholder:"请输入"},domProps:{value:e.searchName},on:{keyup:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:e.handleQuery.apply(null,arguments)},input:function(a){a.target.composing||(e.searchName=a.target.value.trim())},blur:function(a){return e.$forceUpdate()}}}),a("el-button",{staticClass:"custom-button",attrs:{round:"",type:"primary",icon:"el-icon-search"},on:{click:e.handleQuery}},[e._v("搜索 ")])],1)]),a("div",{staticClass:"search_show"},[a("div",{directives:[{name:"show",rawName:"v-show",value:"书城"===e.activeName,expression:"activeName === '书城'"}],staticClass:"search_li"},[a("book",{ref:"book",attrs:{"search-name":e.searchName,eachColor:e.eachColor},on:{settotal:e.settotal}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"专题"===e.activeName,expression:"activeName === '专题'"}],staticClass:"search_li"},[a("special",{ref:"special",attrs:{"search-name":e.searchName,eachColor:e.eachColor},on:{settotal:e.settotal}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"作者"===e.activeName,expression:"activeName === '作者'"}],staticClass:"search_li"},[a("authorLibrary",{ref:"authorLibrary",attrs:{"search-name":e.searchName,eachColor:e.eachColor},on:{settotal:e.settotal}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:"机构"===e.activeName,expression:"activeName === '机构'"}],staticClass:"search_li"},[a("coagency",{ref:"coagency",attrs:{"search-name":e.searchName,eachColor:e.eachColor},on:{settotal:e.settotal}})],1)])])])},l=[],r=t(54526),o={data(){return{activeName:"书城",searchName:"",total:{tstotal:0,zttotal:0,zztotal:0,jgtotal:0}}},computed:{...(0,r.Se)(["searchText"])},watch:{searchText(){"/search/index"===this.$route.path&&this.handleQuery()}},mounted(){const e=this.$loading({lock:!0,text:"Loading"});setTimeout((()=>{this.handleQuery(),e.close()}),200)},components:{book:()=>t.e(5417).then(t.bind(t,15417)),special:()=>t.e(5728).then(t.bind(t,65728)),authorLibrary:()=>t.e(6502).then(t.bind(t,86502)),coagency:()=>t.e(3445).then(t.bind(t,3445))},methods:{handleClick(e){},eachColor(e,a,t){if(e){if(a){let t='<span style="color:#FF5353;">'+a+"</span>";e=e.replace(a,t)}if(t){let a='<span style="color:#FF5353;">'+t+"</span>";e=e.replace(t,a)}}return e},handleQuery(){this.$store.state.read.searchText=this.$parent.$children[0].searchText,this.$refs.book.getList(this.searchName),this.$refs.special.getList(this.searchName),this.$refs.authorLibrary.getList(this.searchName),this.$refs.coagency.getList(this.searchName)},settotal(e,a){this.total[e]=a}}},c=o,i=t(1001),n=(0,i.Z)(c,s,l,!1,null,"0716b93e",null),h=n.exports}}]);
//# sourceMappingURL=2409.78ffdbeb.js.map