"use strict";(self["webpackChunkvue3_test"]=self["webpackChunkvue3_test"]||[]).push([[7764],{61185:function(e,t,r){r.r(t),r.d(t,{default:function(){return m}});var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content"},[t("div",{staticClass:"answer_box"},[t("div",{staticClass:"answer_card"},[t("div",{staticClass:"card_top"},[t("p",{staticClass:"title"},[e._v("答题卡")]),t("div",{staticClass:"judg_box"},[t("div",[t("img",{attrs:{src:r(19209),alt:""}}),t("span",[e._v(e._s(e.correctNumber))])]),t("div",[t("img",{attrs:{src:r(89621),alt:""}}),t("span",[e._v(e._s(e.errorNumber))])])])]),t("div",{staticClass:"topic_list"},e._l(e.paperList,(function(r,s){return t("div",{key:s,class:r.userAnswer&&r.isSubmit&&r.isCorrect?"correct_box":r.userAnswer&&r.isSubmit&&!r.isCorrect?"error_box":"",staticStyle:{cursor:"pointer"},on:{click:function(t){e.current=s}}},[e._v(" "+e._s(s+1)+" ")])})),0),t("div",{staticClass:"btn_box"},[t("el-button",{staticClass:"btn1",on:{click:function(t){return e.exeClose()}}},[e._v("暂时退出")]),t("el-button",{staticClass:"btn2",attrs:{type:"primary"},on:{click:function(t){return e.exeSubmit()}}},[e._v("结束练习")])],1)]),t("div",{staticClass:"answer_info"},e._l(e.paperList,(function(r,s){return t("multiple-choice",{key:s,attrs:{"paper-data":e.paperList[s],current:e.current,total:e.total,index:s,isErrorBook:!0},on:{selected:e.selected,prev:e.prev,next:e.next}})})),1)])])},n=[],i=(r(57658),r(54526)),o=r(65142),u=r(48598),a=r(63683),c=r(17117),p={components:{multipleChoice:c.Z},data(){return{testPaperId:"",paperPlatform:"out",aprId:"",paperList:[],testPaperModuleList:[],total:0,current:0,errorNumber:0,correctNumber:0,atNumber:0,answerResults:"",questionId:"",testPaperModuleCurrent:0,testPaperModuleTotal:0}},mounted(){this.current=Number(this.$route.query.errorBookIndex),this.getAnswerQuestions()},computed:{...(0,i.Se)(["name","userId"])},methods:{getAnswerQuestions(){(0,a.AQ)().then((e=>{let t={pageNum:this.pageNum,pageSize:this.pageSize,questionType:this.$route.query.questionType,token:e.data,isDesc:this.$route.query.isDesc};(0,u.vR)(t).then((e=>{this.paperList=e.rows||[],this.total=this.paperList.length,this.paperList.map(((e,t)=>{if(this.$set(e,"isCorrect",!1),1==e.questionType||2==e.questionType){let t=[];JSON.parse(e.standardAnswer).map((e=>{t.push(e.title)})),this.$set(e,"correctAnswer",t.toString())}else 3==e.questionType&&this.$set(e,"correctAnswer",JSON.parse(e.standardAnswer)[0]);this.$set(e,"userAnswer",""),this.$set(e,"isSubmit",!1)}))}))}))},GET_CURRENT_TIME(){let e=new Date,t=e.getFullYear(),r=e.getMonth()+1,s=e.getDate(),n=e.getHours(),i=e.getMinutes(),o=e.getSeconds(),u=t+"-"+(r>9?r:"0"+r)+"-"+(s>9?s:"0"+s)+" "+(n>9?n:"0"+n)+":"+(i>9?i:"0"+i)+":"+(o>9?o:"0"+o);return u},selected(e){console.log(e),this.paperList[this.current].userAnswer=e,this.answerResults=e},prev(){this.current>0?this.current--:this.testPaperModuleCurrent>0&&(this.testPaperModuleCurrent--,this.getAnswerQuestions(),this.current=this.total+1)},next(){this.paperList[this.current].userAnswer&&!this.paperList[this.current].isSubmit?this.createAnswerRecord():this.current!=this.total-1?this.current<this.total-1&&this.current++:this.current==this.total-1&&this.exeSubmit()},judgmentAnswer(e,t){let r=[],s=[];for(let n=0;n<e.length;n++)r.push(e.charAt(n));for(let n=0;n<t.length;n++)s.push(t.charAt(n));return r.sort().toString()==s.sort().toString()},toCapital(e){let t=["一","二","三","四","五","六","七","八","九","十"];return t[e]},createAnswerRecord(){(0,a.AQ)().then((e=>{(0,o.gQ)({questionId:this.paperList[this.current].questionId,answerPlatform:this.paperPlatform,userId:this.userId,userName:this.name,paperId:this.testPaperId,answerDate:this.GET_CURRENT_TIME(),answerResults:this.answerResults,aprId:this.aprId,token:e.data}).then((e=>{if(1==e.data.questionType||2==e.data.questionType){let t=[];JSON.parse(e.data.standardAnswer).map((e=>{t.push(e.title)})),this.paperList[this.current].correctAnswer=t.toString()}else 3==e.data.questionType&&(this.paperList[this.current].correctAnswer=JSON.parse(e.data.standardAnswer)[0]);this.paperList[this.current].analysis=e.data.analysis,this.paperList[this.current].isSubmit=!0,this.judgmentAnswer(this.paperList[this.current].userAnswer,this.paperList[this.current].correctAnswer)?(this.paperList[this.current].isCorrect=!0,this.correctNumber++,console.log(localStorage.getItem("automatically-remove"),typeof localStorage.getItem("automatically-remove")),"true"==localStorage.getItem("automatically-remove")&&(0,u.Vn)({questionIds:e.data.id})):(this.paperList[this.current].isCorrect=!1,this.errorNumber++)}))}))},exeClose(){this.$confirm("是否要暂时退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$router.go(-1)}))},exeSubmit(){this.$confirm("是否要结束练习?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,a.AQ)().then((e=>{this.$router.go(-1)}))}))}}},d=p,l=r(1001),h=(0,l.Z)(d,s,n,!1,null,"571e92a8",null),m=h.exports},48598:function(e,t,r){r.d(t,{Bc:function(){return l},Bo:function(){return i},DA:function(){return L},Nl:function(){return v},OL:function(){return h},Uv:function(){return b},Vn:function(){return f},X_:function(){return x},Zp:function(){return u},c$:function(){return d},dd:function(){return c},fp:function(){return w},i9:function(){return o},iu:function(){return p},jY:function(){return g},og:function(){return a},vR:function(){return m}});var s=r(84471),n=r(37182);function i(e){return(0,s.ZP)({url:n.V+"/web/goods/getTreeSelectByType",method:"get",params:e})}function o(e){return(0,s.ZP)({url:n.V+"/device/api/homePage/bannerList",method:"get",params:e})}const u=e=>(0,s.v_)(n.V+"/device/api/OcLexueHome/selectOclexueResource",e,{disableToken:!1});function a(e){return(0,s.ZP)({url:n.V+"/device/api/ocLexueResourceBook/selectOclexueResourceBook",method:"post",data:e})}function c(e){return(0,s.ZP)({url:n.V+"/device/api/ocLexueResourceBook/selectOcLexueResourceBookCourseById?goodsId="+e,method:"get"})}function p(e){return(0,s.ZP)({url:n.V+"/device/read/updateViewerNumber",method:"get",params:e})}function d(e){return(0,s.ZP)({url:n.V+"/device/api/ocLexueResourceBook/selectOclexueResourceBookById",method:"post",params:e})}function l(e){return(0,s.ZP)({url:n.V+"/device/lexueCode/boundLexueCode",method:"POST",data:e})}function h(e){return(0,s.ZP)({url:n.V+"/device/paper/selWrongQuestionList",token:!0,method:"post",data:e})}function m(e){return(0,s.ZP)({url:n.V+"/device/paper/wrongQuestionExercise",token:!0,method:"post",data:e})}function f(e){return(0,s.ZP)({url:n.V+"/device/paper/delWrongQuestion",token:!0,method:"post",data:e})}function g(e){return(0,s.ZP)({url:n.V+"/device/read/getLexueReadTime",token:!0,method:"get",params:e})}function v(){return(0,s.ZP)({url:n.V+"/device/read/selectTimeParameter",token:!0,method:"get"})}function w(e){return(0,s.ZP)({url:n.V+"/device/paper/getNumberQuestionIsUse",token:!0,method:"get",params:e})}function b(e){return(0,s.ZP)({url:n.V+"/device/read/updateOcDownloadReadingForLuxue",contentType:"application/x-www-form-urlencoded",token:!0,method:"post",params:e})}function x(e){return(0,s.ZP)({url:n.V+"/device/read/updateLexuePlayedbackSchedule",token:!0,method:"post",data:e})}function L(e){return(0,s.ZP)({url:n.V+"/device/read/getUserLastRead?goodsId="+e,token:!0,method:"get"})}}}]);
//# sourceMappingURL=7764.9dd4ecd9.js.map